<!DOCTYPE html><!--_FssAOWqddSh6KjpX7lhp--><html lang="en" class="scroll-smooth"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/c20b138c24fe1487.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-2eb758dea75faf50.js"/><script src="/_next/static/chunks/4bd1b696-c023c6e3521b1417.js" async=""></script><script src="/_next/static/chunks/255-a7ba4d37dca2f1fa.js" async=""></script><script src="/_next/static/chunks/main-app-6a936d4342be3007.js" async=""></script><script src="/_next/static/chunks/619-ba102abea3e3d0e4.js" async=""></script><script src="/_next/static/chunks/app/layout-8284c39862fe0a8e.js" async=""></script><script src="/_next/static/chunks/app/page-e5d8c3c746fe6cca.js" async=""></script><script src="/_next/static/chunks/app/custom-mcp/page-73c288db9a6b69ba.js" async=""></script><title>Databricks MCP Workshop</title><meta name="description" content="A comprehensive workshop to learn about Databricks Model Context Protocol"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="bg-true-white text-dark-navy antialiased"><div hidden=""><!--$--><!--/$--></div><div class="flex min-h-screen"><aside class="hidden lg:flex flex-col border-r border-dark-navy bg-dark-navy transition-all duration-300 sticky top-0 h-screen w-80"><div class="flex h-full flex-col"><div class="p-4 border-b border-white/10 flex items-center justify-between"><a class="block " href="/"><div class="flex items-center gap-3"><div class="h-10 w-10 rounded-lg bg-innovation-orange flex items-center justify-center"><span class="text-white font-bold text-lg">DB</span></div><div><h1 class="text-xl font-bold text-white">Prototyping with Confidence</h1><p class="text-xs text-warm-gray">on Databricks</p></div></div></a><button class="p-2 rounded-md hover:bg-white/10 text-warm-gray hover:text-white transition-colors" title="Collapse sidebar"><svg class="h-4 w-4 transition-transform " fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path></svg></button></div><nav class="flex-1 space-y-3 overflow-y-auto p-4"><div class="space-y-2"><a class="group flex items-center rounded-lg border border-white/10 bg-white/5 hover:border-innovation-orange hover:bg-innovation-orange/20 transition-all gap-3 p-3" title="" href="/managed-mcp/"><div class="flex items-center justify-center rounded-md bg-white/10 text-white text-sm flex-shrink-0 h-8 w-8">üîß</div><div class="flex-1 min-w-0"><div class="flex items-center gap-2"><span class="text-xs font-medium text-warm-gray/80">01</span><h3 class="text-sm font-semibold text-white truncate">Managed Servers</h3></div><p class="text-xs text-warm-gray/70 truncate">Built-in MCP tools</p></div></a><div class="ml-11 space-y-1"><div class="flex items-center gap-2 py-1"><div class="h-1.5 w-1.5 rounded-full bg-warm-gray/50 flex-shrink-0"></div><span class="text-xs text-warm-gray/70 truncate">Unity Catalog Functions</span></div><div class="flex items-center gap-2 py-1"><div class="h-1.5 w-1.5 rounded-full bg-warm-gray/50 flex-shrink-0"></div><span class="text-xs text-warm-gray/70 truncate">Genie Spaces</span></div><div class="flex items-center gap-2 py-1"><div class="h-1.5 w-1.5 rounded-full bg-warm-gray/50 flex-shrink-0"></div><span class="text-xs text-warm-gray/70 truncate">Vector Search</span></div></div></div><div class="space-y-2"><a class="group flex items-center rounded-lg border border-white/10 bg-white/5 hover:border-innovation-orange hover:bg-innovation-orange/20 transition-all gap-3 p-3" title="" href="/external-mcp/"><div class="flex items-center justify-center rounded-md bg-white/10 text-white text-sm flex-shrink-0 h-8 w-8">üîó</div><div class="flex-1 min-w-0"><div class="flex items-center gap-2"><span class="text-xs font-medium text-warm-gray/80">02</span><h3 class="text-sm font-semibold text-white truncate">External Servers</h3></div><p class="text-xs text-warm-gray/70 truncate">Third-party integrations</p></div></a><div class="ml-11 space-y-1"><div class="flex items-center gap-2 py-1"><div class="h-1.5 w-1.5 rounded-full bg-warm-gray/50 flex-shrink-0"></div><span class="text-xs text-warm-gray/70 truncate">HTTP Connections</span></div><div class="flex items-center gap-2 py-1"><div class="h-1.5 w-1.5 rounded-full bg-warm-gray/50 flex-shrink-0"></div><span class="text-xs text-warm-gray/70 truncate">OAuth Setup</span></div><div class="flex items-center gap-2 py-1"><div class="h-1.5 w-1.5 rounded-full bg-warm-gray/50 flex-shrink-0"></div><span class="text-xs text-warm-gray/70 truncate">AI Playground</span></div></div></div><div class="space-y-2"><a class="group flex items-center rounded-lg border border-white/10 bg-white/5 hover:border-innovation-orange hover:bg-innovation-orange/20 transition-all gap-3 p-3" title="" href="/custom-mcp/"><div class="flex items-center justify-center rounded-md bg-white/10 text-white text-sm flex-shrink-0 h-8 w-8">‚öôÔ∏è</div><div class="flex-1 min-w-0"><div class="flex items-center gap-2"><span class="text-xs font-medium text-warm-gray/80">03</span><h3 class="text-sm font-semibold text-white truncate">Custom Servers</h3></div><p class="text-xs text-warm-gray/70 truncate">Build your own</p></div></a><div class="ml-11 space-y-1"><div class="flex items-center gap-2 py-1"><div class="h-1.5 w-1.5 rounded-full bg-warm-gray/50 flex-shrink-0"></div><span class="text-xs text-warm-gray/70 truncate">Server Development</span></div><div class="flex items-center gap-2 py-1"><div class="h-1.5 w-1.5 rounded-full bg-warm-gray/50 flex-shrink-0"></div><span class="text-xs text-warm-gray/70 truncate">Databricks Apps</span></div><div class="flex items-center gap-2 py-1"><div class="h-1.5 w-1.5 rounded-full bg-warm-gray/50 flex-shrink-0"></div><span class="text-xs text-warm-gray/70 truncate">Deployment</span></div></div></div><div class="space-y-2"><a class="group flex items-center rounded-lg border border-white/10 bg-white/5 hover:border-innovation-orange hover:bg-innovation-orange/20 transition-all gap-3 p-3" title="" href="/local-ide/"><div class="flex items-center justify-center rounded-md bg-white/10 text-white text-sm flex-shrink-0 h-8 w-8">üíª</div><div class="flex-1 min-w-0"><div class="flex items-center gap-2"><span class="text-xs font-medium text-warm-gray/80">04</span><h3 class="text-sm font-semibold text-white truncate">Local IDE Setup</h3></div><p class="text-xs text-warm-gray/70 truncate">Development environment</p></div></a><div class="ml-11 space-y-1"><div class="flex items-center gap-2 py-1"><div class="h-1.5 w-1.5 rounded-full bg-warm-gray/50 flex-shrink-0"></div><span class="text-xs text-warm-gray/70 truncate">Environment Setup</span></div><div class="flex items-center gap-2 py-1"><div class="h-1.5 w-1.5 rounded-full bg-warm-gray/50 flex-shrink-0"></div><span class="text-xs text-warm-gray/70 truncate">Agent Building</span></div><div class="flex items-center gap-2 py-1"><div class="h-1.5 w-1.5 rounded-full bg-warm-gray/50 flex-shrink-0"></div><span class="text-xs text-warm-gray/70 truncate">SDK Integration</span></div></div></div></nav><div class="p-4 border-t border-white/10"><div class="text-xs text-warm-gray/70 text-center">¬© <!-- -->2026<!-- --> Databricks</div></div></div></aside><main class="flex-1 overflow-hidden bg-true-white"><header class="lg:hidden border-b border-warm-gray/20 bg-true-white px-4 py-3 shadow-sm"><a class="flex items-center gap-3" href="/"><div class="h-8 w-8 rounded-md bg-dark-navy flex items-center justify-center shadow-lg"><span class="text-white font-bold text-sm">DB</span></div><div><h1 class="text-lg font-bold text-dark-navy">MCP Workshop</h1></div></a></header><div class="h-full overflow-y-auto bg-true-white text-dark-navy"><div class="min-h-screen bg-white"><div class="max-w-5xl mx-auto px-8 py-12"><div class="mb-16"><div class="flex items-center gap-6 mb-8"><div class="flex h-20 w-20 items-center justify-center rounded-2xl bg-gradient-to-br from-orange-500 to-orange-600 text-4xl text-white shadow-lg">üõ†Ô∏è</div><div><h1 class="text-5xl font-bold text-slate-900 mb-2">Build Your Custom MCP Server</h1><p class="text-xl text-slate-600">Start with a clean databrickslabs/mcp template</p></div></div><div class="bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-8 border-2 border-green-200 mb-8"><h2 class="text-2xl font-bold text-slate-900 mb-4">‚ú® What You&#x27;re Building</h2><p class="text-lg text-slate-700 leading-relaxed mb-4">Your workshop setup created <code class="bg-green-200 px-1.5 py-0.5 rounded font-mono">custom-mcp-template/</code> - a clean MCP server based on <a href="https://github.com/databrickslabs/mcp" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline font-semibold">databrickslabs/mcp</a>. You&#x27;ll learn to extend it with Databricks capabilities!</p><ul class="space-y-2 text-slate-700"><li>‚Ä¢ üì¶ <strong>Already set up for you</strong> - ready to explore and modify</li><li>‚Ä¢ üéØ Uses simple <code class="bg-green-100 px-1 py-0.5 rounded text-sm">@mcp.tool()</code> decorator pattern</li><li>‚Ä¢ üöÄ Includes everything needed for Databricks Apps deployment</li><li>‚Ä¢ üî® You&#x27;ll add Databricks SDK features in this workshop!</li></ul></div><div class="my-6 rounded-xl border-2 border-teal/30 bg-teal/5 p-6"><div class="flex items-start gap-4"><div class="flex h-8 w-8 items-center justify-center rounded-lg text-lg flex-shrink-0 bg-teal/10 text-teal">‚ÑπÔ∏è</div><div class="flex-1 min-w-0"><h4 class="font-bold mb-3 text-lg text-teal">Learning by Doing</h4><div class="leading-relaxed text-dark-navy"><p>This workshop teaches you to build MCP servers by <strong>starting simple and adding features incrementally</strong>. You&#x27;ll understand not just what each piece does, but WHY it&#x27;s there and how to customize it for your needs.</p></div></div></div></div></div><div class="relative mb-12 bg-white rounded-2xl border-2 border-slate-200 p-8 shadow-sm"><div class="flex items-start gap-6"><div class="flex h-12 w-12 items-center justify-center rounded-full text-lg font-bold text-white shadow-lg flex-shrink-0 bg-gradient-to-br from-sky-500 to-blue-600">1</div><div class="flex-1 min-w-0"><h3 class="text-2xl font-bold text-slate-900 mb-6">Understand Your MCP Server Structure</h3><div class="prose prose-slate max-w-none"><div class="space-y-6"><p class="text-lg text-slate-700 leading-relaxed">The workshop setup created <code class="bg-orange-200 px-1.5 py-0.5 rounded font-mono">custom-mcp-template/</code> for you. Let&#x27;s understand what each file does and how they work together:</p><div class="bg-blue-50 rounded-lg p-4 border border-blue-200 mb-4"><p class="text-sm text-slate-700"><strong>üí° Pro Tip:</strong> Open the <code class="bg-blue-100 px-1 py-0.5 rounded text-xs">custom-mcp-template/</code> folder in your code editor while following along. You&#x27;ll be editing these files!</p></div><div class="my-6 rounded-xl border-2 border-warm-gray/30 overflow-hidden bg-dark-navy shadow-lg"><div class="flex items-center justify-between px-6 py-4 bg-dark-navy/80 border-b border-warm-gray/20"><div class="flex items-center space-x-4"><div class="flex space-x-2"><div class="w-3 h-3 rounded-full bg-innovation-orange"></div><div class="w-3 h-3 rounded-full bg-yellow"></div><div class="w-3 h-3 rounded-full bg-green"></div></div><span class="text-sm font-semibold text-true-white">Project Structure</span><span class="text-xs text-warm-gray uppercase tracking-wider font-mono bg-warm-gray/10 px-2 py-1 rounded">bash</span></div><button class="flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-warm-gray hover:text-true-white hover:bg-warm-gray/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span>Copy</span></button></div><div class="relative"><pre class="p-6 text-sm overflow-x-auto leading-relaxed"><code class="text-true-white font-mono">custom-mcp-template/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ custom_server/
‚îÇ       ‚îú‚îÄ‚îÄ app.py              # Main MCP server file
‚îÇ       ‚îú‚îÄ‚îÄ main.py             # Entry point for local dev
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îî‚îÄ‚îÄ static/
‚îÇ           ‚îî‚îÄ‚îÄ index.html      # Landing page
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îî‚îÄ‚îÄ apps_build.py           # Databricks Apps build hook
‚îú‚îÄ‚îÄ app.yaml                    # App configuration
‚îú‚îÄ‚îÄ databricks.yml              # Bundle configuration
‚îú‚îÄ‚îÄ pyproject.toml              # Python dependencies
‚îî‚îÄ‚îÄ README.md                   # Documentation</code></pre></div></div><div class="bg-blue-50 rounded-xl p-6 border-2 border-blue-200"><h3 class="text-xl font-bold text-slate-900 mb-4">üéØ Key Files You&#x27;ll Modify</h3><div class="space-y-4 text-slate-700"><div><p class="font-bold">src/custom_server/app.py</p><p class="text-sm">This is YOUR canvas! Add MCP tools here using the <code class="bg-blue-100 px-1 py-0.5 rounded text-xs">@mcp.tool()</code> decorator. Each tool becomes callable by AI assistants connected to your server.</p></div><div><p class="font-bold">pyproject.toml</p><p class="text-sm">Manages Python dependencies. When you need new libraries (like <code class="bg-blue-100 px-1 py-0.5 rounded text-xs">databricks-sdk</code>), you&#x27;ll add them here.</p></div><div><p class="font-bold">databricks.yml</p><p class="text-sm">Tells Databricks how to deploy your MCP server as an App. You&#x27;ll customize the app name and settings here.</p></div><div><p class="font-bold">app.yaml</p><p class="text-sm">Specifies the command that runs your server inside the Databricks App container.</p></div></div></div></div></div></div></div></div><div class="relative mb-12 bg-white rounded-2xl border-2 border-slate-200 p-8 shadow-sm"><div class="flex items-start gap-6"><div class="flex h-12 w-12 items-center justify-center rounded-full text-lg font-bold text-white shadow-lg flex-shrink-0 bg-gradient-to-br from-sky-500 to-blue-600">2</div><div class="flex-1 min-w-0"><h3 class="text-2xl font-bold text-slate-900 mb-6">Examine the Simple MCP Server</h3><div class="prose prose-slate max-w-none"><div class="space-y-6"><p class="text-lg text-slate-700 leading-relaxed">Open <code class="bg-orange-200 px-1.5 py-0.5 rounded font-mono">custom-mcp-template/src/custom_server/app.py</code> and you&#x27;ll see a clean, minimal MCP server:</p><div class="my-6 rounded-xl border-2 border-warm-gray/30 overflow-hidden bg-dark-navy shadow-lg"><div class="flex items-center justify-between px-6 py-4 bg-dark-navy/80 border-b border-warm-gray/20"><div class="flex items-center space-x-4"><div class="flex space-x-2"><div class="w-3 h-3 rounded-full bg-innovation-orange"></div><div class="w-3 h-3 rounded-full bg-yellow"></div><div class="w-3 h-3 rounded-full bg-green"></div></div><span class="text-sm font-semibold text-true-white">src/custom_server/app.py - Current State</span><span class="text-xs text-warm-gray uppercase tracking-wider font-mono bg-warm-gray/10 px-2 py-1 rounded">python</span></div><button class="flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-warm-gray hover:text-true-white hover:bg-warm-gray/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span>Copy</span></button></div><div class="relative"><pre class="p-6 text-sm overflow-x-auto leading-relaxed"><code class="text-true-white font-mono">from pathlib import Path
from mcp.server.fastmcp import FastMCP
from fastapi import FastAPI
from fastapi.responses import FileResponse

STATIC_DIR = Path(__file__).parent / &quot;static&quot;

# Create an MCP server
mcp = FastMCP(&quot;Custom MCP Server on Databricks Apps&quot;)


# Add an addition tool
@mcp.tool()
def add(a: int, b: int) -&gt; int:
    &quot;&quot;&quot;Add two numbers&quot;&quot;&quot;
    return a + b


# Add a dynamic greeting resource
@mcp.resource(&quot;greeting://{name}&quot;)
def get_greeting(name: str) -&gt; str:
    &quot;&quot;&quot;Get a personalized greeting&quot;&quot;&quot;
    return f&quot;Hello, {name}!&quot;


mcp_app = mcp.streamable_http_app()

app = FastAPI(
    lifespan=lambda _: mcp.session_manager.run(),
)


@app.get(&quot;/&quot;, include_in_schema=False)
async def serve_index():
    return FileResponse(STATIC_DIR / &quot;index.html&quot;)


app.mount(&quot;/&quot;, mcp_app)</code></pre></div></div><div class="bg-purple-50 rounded-xl p-6 border-2 border-purple-200"><h3 class="text-lg font-bold text-slate-900 mb-3">üìö Understanding the Code</h3><ul class="space-y-2 text-sm text-slate-700"><li>‚Ä¢ <code class="bg-purple-100 px-1 py-0.5 rounded text-xs">FastMCP(...)</code> creates the MCP server instance</li><li>‚Ä¢ <code class="bg-purple-100 px-1 py-0.5 rounded text-xs">@mcp.tool()</code> decorator registers a callable tool</li><li>‚Ä¢ <code class="bg-purple-100 px-1 py-0.5 rounded text-xs">@mcp.resource(...)</code> registers dynamic resources</li><li>‚Ä¢ <code class="bg-purple-100 px-1 py-0.5 rounded text-xs">mcp.streamable_http_app()</code> creates HTTP transport</li><li>‚Ä¢ FastAPI app mounts the MCP app and serves static files</li></ul></div></div></div></div></div></div><div class="relative mb-12 bg-white rounded-2xl border-2 border-slate-200 p-8 shadow-sm"><div class="flex items-start gap-6"><div class="flex h-12 w-12 items-center justify-center rounded-full text-lg font-bold text-white shadow-lg flex-shrink-0 bg-gradient-to-br from-sky-500 to-blue-600">3</div><div class="flex-1 min-w-0"><h3 class="text-2xl font-bold text-slate-900 mb-6">Run Locally</h3><div class="prose prose-slate max-w-none"><div class="space-y-6"><p class="text-lg text-slate-700 leading-relaxed">Let&#x27;s run the MCP server locally to see it in action. We&#x27;ll use <code class="bg-orange-100 px-1 py-0.5 rounded text-sm">uv</code> to manage dependencies and run the server.</p><div class="bg-blue-50 rounded-xl p-6 border-2 border-blue-200"><h3 class="text-lg font-bold text-slate-900 mb-3">üì¶ First Time? Install UV</h3><p class="text-sm text-slate-700 mb-3">If you don&#x27;t have <code class="bg-blue-100 px-1 py-0.5 rounded text-xs">uv</code> installed yet, run one of these:</p><div class="my-6 rounded-xl border-2 border-warm-gray/30 overflow-hidden bg-dark-navy shadow-lg"><div class="flex items-center justify-between px-6 py-4 bg-dark-navy/80 border-b border-warm-gray/20"><div class="flex items-center space-x-4"><div class="flex space-x-2"><div class="w-3 h-3 rounded-full bg-innovation-orange"></div><div class="w-3 h-3 rounded-full bg-yellow"></div><div class="w-3 h-3 rounded-full bg-green"></div></div><span class="text-xs text-warm-gray uppercase tracking-wider font-mono bg-warm-gray/10 px-2 py-1 rounded">bash</span></div><button class="flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-warm-gray hover:text-true-white hover:bg-warm-gray/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span>Copy</span></button></div><div class="relative"><pre class="p-6 text-sm overflow-x-auto leading-relaxed"><code class="text-true-white font-mono"># macOS/Linux
curl -LsSf https://astral.sh/uv/install.sh | sh

# or via Homebrew
brew install uv

# or via pip
pip install uv</code></pre></div></div><details class="mt-3"><summary class="cursor-pointer text-sm font-semibold text-slate-700 hover:text-slate-900">What is UV? (click to expand)</summary><div class="mt-2 text-sm text-slate-600 space-y-2"><p>UV is a fast Python package manager (like pip + virtualenv, but way faster). It handles dependencies and environments automatically.</p><ul class="ml-4 space-y-1"><li>‚Ä¢ <code class="bg-blue-100 px-1 py-0.5 rounded text-xs">uv sync</code> creates <code class="bg-blue-100 px-1 py-0.5 rounded text-xs">.venv</code> and installs dependencies</li><li>‚Ä¢ <code class="bg-blue-100 px-1 py-0.5 rounded text-xs">uv run</code> runs commands in that environment (no manual activation!)</li></ul></div></details></div><div class="my-6 rounded-xl border-2 border-warm-gray/30 overflow-hidden bg-dark-navy shadow-lg"><div class="flex items-center justify-between px-6 py-4 bg-dark-navy/80 border-b border-warm-gray/20"><div class="flex items-center space-x-4"><div class="flex space-x-2"><div class="w-3 h-3 rounded-full bg-innovation-orange"></div><div class="w-3 h-3 rounded-full bg-yellow"></div><div class="w-3 h-3 rounded-full bg-green"></div></div><span class="text-sm font-semibold text-true-white">Local Development</span><span class="text-xs text-warm-gray uppercase tracking-wider font-mono bg-warm-gray/10 px-2 py-1 rounded">bash</span></div><button class="flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-warm-gray hover:text-true-white hover:bg-warm-gray/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span>Copy</span></button></div><div class="relative"><pre class="p-6 text-sm overflow-x-auto leading-relaxed"><code class="text-true-white font-mono"># Navigate to the template directory
cd custom-mcp-template

# Install dependencies (creates .venv virtual environment)
uv sync

# Start the server (with hot-reload)
uv run uvicorn custom_server.app:app --reload --host 0.0.0.0 --port 8000</code></pre></div></div><div class="bg-green-50 rounded-lg p-4 border border-green-200"><p class="text-sm font-semibold text-slate-900 mb-2">‚úÖ Success looks like this:</p><div class="my-6 rounded-xl border-2 border-warm-gray/30 overflow-hidden bg-dark-navy shadow-lg"><div class="flex items-center justify-between px-6 py-4 bg-dark-navy/80 border-b border-warm-gray/20"><div class="flex items-center space-x-4"><div class="flex space-x-2"><div class="w-3 h-3 rounded-full bg-innovation-orange"></div><div class="w-3 h-3 rounded-full bg-yellow"></div><div class="w-3 h-3 rounded-full bg-green"></div></div><span class="text-xs text-warm-gray uppercase tracking-wider font-mono bg-warm-gray/10 px-2 py-1 rounded">text</span></div><button class="flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-warm-gray hover:text-true-white hover:bg-warm-gray/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span>Copy</span></button></div><div class="relative"><pre class="p-6 text-sm overflow-x-auto leading-relaxed"><code class="text-true-white font-mono">‚úÖ Loaded prompt: analyze_workspace
‚úÖ Loaded prompt: check_clusters
‚úÖ Loaded prompt: query_workshop_data
üìã Loaded 3 prompt(s) from .../prompts
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process</code></pre></div></div></div><div class="bg-yellow-50 rounded-lg p-4 border border-yellow-200"><p class="text-sm text-slate-700"><strong>üí° Why <code class="bg-yellow-100 px-1 py-0.5 rounded text-xs">uv run</code>?</strong> It automatically uses the virtual environment created by <code class="bg-yellow-100 px-1 py-0.5 rounded text-xs">uv sync</code>. No need to manually activate it!</p></div><div class="my-6 rounded-xl border-2 border-green/30 bg-green/5 p-6"><div class="flex items-start gap-4"><div class="flex h-8 w-8 items-center justify-center rounded-lg text-lg flex-shrink-0 bg-green/10 text-green">‚úÖ</div><div class="flex-1 min-w-0"><h4 class="font-bold mb-3 text-lg text-green">Test It Out</h4><div class="leading-relaxed text-dark-navy"><p class="mb-2">Open <strong>http://localhost:8000</strong> in your browser to see the landing page.</p><p class="text-sm">The MCP endpoint at <code class="bg-emerald-100 px-1 py-0.5 rounded text-xs">/mcp/</code> is ready to accept MCP protocol requests!</p></div></div></div></div></div></div></div></div></div><div class="relative mb-12 bg-white rounded-2xl border-2 border-slate-200 p-8 shadow-sm"><div class="flex items-start gap-6"><div class="flex h-12 w-12 items-center justify-center rounded-full text-lg font-bold text-white shadow-lg flex-shrink-0 bg-gradient-to-br from-sky-500 to-blue-600">4</div><div class="flex-1 min-w-0"><h3 class="text-2xl font-bold text-slate-900 mb-6">Deploy to Databricks Apps</h3><div class="prose prose-slate max-w-none"><div class="space-y-6"><p class="text-lg text-slate-700 leading-relaxed">Now let&#x27;s deploy this clean MCP server to Databricks Apps. You can use the automated script or deploy manually:</p><div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200 mb-6"><h3 class="text-xl font-bold text-slate-900 mb-3">üöÄ Option 1: Automated Deployment (Recommended)</h3><p class="text-slate-700 mb-4">The easiest way to deploy is using the included <code class="bg-blue-100 px-1 py-0.5 rounded text-sm">deploy.sh</code> script, which handles everything automatically:</p><div class="my-6 rounded-xl border-2 border-warm-gray/30 overflow-hidden bg-dark-navy shadow-lg"><div class="flex items-center justify-between px-6 py-4 bg-dark-navy/80 border-b border-warm-gray/20"><div class="flex items-center space-x-4"><div class="flex space-x-2"><div class="w-3 h-3 rounded-full bg-innovation-orange"></div><div class="w-3 h-3 rounded-full bg-yellow"></div><div class="w-3 h-3 rounded-full bg-green"></div></div><span class="text-sm font-semibold text-true-white">Terminal - Automated deployment</span><span class="text-xs text-warm-gray uppercase tracking-wider font-mono bg-warm-gray/10 px-2 py-1 rounded">bash</span></div><button class="flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-warm-gray hover:text-true-white hover:bg-warm-gray/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span>Copy</span></button></div><div class="relative"><pre class="p-6 text-sm overflow-x-auto leading-relaxed"><code class="text-true-white font-mono"># Navigate to custom-mcp-template directory
cd custom-mcp-template

# Load your participant prefix from setup
source ../.env.local

# Run the deploy script (builds, deploys, and starts the app)
./deploy.sh

# The script will:
# 1. Build the Python wheel
# 2. Deploy to Databricks with your unique prefix
# 3. Start the app automatically
# 4. Display your MCP connection URL</code></pre></div></div><div class="bg-blue-100 rounded-lg p-3 mt-3"><p class="text-sm text-slate-700"><strong>‚ú® The script automatically:</strong> Converts underscores to dashes in your prefix, handles authentication, and provides the MCP endpoint URL when done!</p></div></div><div class="bg-slate-50 rounded-xl p-6 border-2 border-slate-200"><h3 class="text-xl font-bold text-slate-900 mb-3">‚öôÔ∏è Option 2: Manual Deployment</h3><p class="text-slate-700 mb-4">For more control, you can deploy manually step-by-step:</p><div class="my-6 rounded-xl border-2 border-warm-gray/30 overflow-hidden bg-dark-navy shadow-lg"><div class="flex items-center justify-between px-6 py-4 bg-dark-navy/80 border-b border-warm-gray/20"><div class="flex items-center space-x-4"><div class="flex space-x-2"><div class="w-3 h-3 rounded-full bg-innovation-orange"></div><div class="w-3 h-3 rounded-full bg-yellow"></div><div class="w-3 h-3 rounded-full bg-green"></div></div><span class="text-sm font-semibold text-true-white">Terminal - Manual deployment</span><span class="text-xs text-warm-gray uppercase tracking-wider font-mono bg-warm-gray/10 px-2 py-1 rounded">bash</span></div><button class="flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-warm-gray hover:text-true-white hover:bg-warm-gray/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span>Copy</span></button></div><div class="relative"><pre class="p-6 text-sm overflow-x-auto leading-relaxed"><code class="text-true-white font-mono">cd custom-mcp-template

# 1. Load your participant prefix
source ../.env.local
echo &quot;Participant prefix: $PARTICIPANT_PREFIX&quot;

# 2. Build the Python wheel
uv build --wheel

# 3. Deploy with bundle (converts underscores to dashes automatically)
# Note: App names can only contain lowercase letters, numbers, and dashes
unset DATABRICKS_AUTH_TYPE
CLEAN_PREFIX=$(echo &quot;$PARTICIPANT_PREFIX&quot; | tr &#x27;_&#x27; &#x27;-&#x27;)
databricks bundle deploy --var=&quot;participant_prefix=$CLEAN_PREFIX&quot;

# 4. Start and deploy the app
databricks bundle run custom-mcp-server --var=&quot;participant_prefix=$CLEAN_PREFIX&quot;

# 5. Get the app URL
databricks apps get &quot;mcp-custom-server-$CLEAN_PREFIX&quot; | grep url</code></pre></div></div></div><div class="bg-yellow-50 rounded-xl p-6 border-2 border-yellow-200"><h3 class="text-lg font-bold text-slate-900 mb-3">üîß What Just Happened?</h3><ol class="space-y-2 text-sm text-slate-700 ml-4"><li>1. <code class="bg-yellow-100 px-1 py-0.5 rounded text-xs">uv build --wheel</code> packaged your app into a Python wheel</li><li>2. The build hook created a <code class="bg-yellow-100 px-1 py-0.5 rounded text-xs">.build/</code> directory with dependencies</li><li>3. Your participant prefix was cleaned (underscores ‚Üí dashes) for app naming</li><li>4. <code class="bg-yellow-100 px-1 py-0.5 rounded text-xs">databricks bundle deploy</code> created your app with unique name</li><li>5. <code class="bg-yellow-100 px-1 py-0.5 rounded text-xs">databricks bundle run</code> started the app and deployed the code</li><li>6. Your MCP server is now running 24/7 as a Databricks App!</li></ol></div><div class="bg-red-50 rounded-xl p-6 border-2 border-red-200"><h3 class="text-lg font-bold text-slate-900 mb-3">‚ö†Ô∏è Troubleshooting Common Issues</h3><div class="space-y-4 text-sm text-slate-700"><div><p class="font-bold">Error: &quot;auth type &#x27;profile&#x27; not found&quot;</p><p>Your environment has conflicting auth settings. Always unset DATABRICKS_AUTH_TYPE before deploying:</p><code class="bg-red-100 px-2 py-1 rounded text-xs block mt-1">unset DATABRICKS_AUTH_TYPE &amp;&amp; databricks bundle deploy ...</code></div><div><p class="font-bold">Error: &quot;App name must contain only lowercase letters, numbers, and dashes&quot;</p><p>Your prefix contains underscores. The deploy script handles this automatically, or manually convert:</p><code class="bg-red-100 px-2 py-1 rounded text-xs block mt-1">CLEAN_PREFIX=$(echo &quot;$PARTICIPANT_PREFIX&quot; | tr &#x27;_&#x27; &#x27;-&#x27;)</code></div><div><p class="font-bold">Error: &quot;App does not exist or is deleted&quot;</p><p>Stale Terraform state. Clear it and redeploy:</p><code class="bg-red-100 px-2 py-1 rounded text-xs block mt-1">rm -rf .databricks &amp;&amp; ./deploy.sh</code></div></div><p class="text-sm text-slate-600 mt-4">üí° See <code class="bg-red-100 px-1 py-0.5 rounded text-xs">README.md</code> for detailed troubleshooting steps.</p></div><div class="bg-green-50 rounded-xl p-6 border-2 border-green-200"><h3 class="text-lg font-bold text-slate-900 mb-3">‚úÖ Deployment Success</h3><p class="text-slate-700 mb-3">After deployment completes, you&#x27;ll see:</p><div class="my-6 rounded-xl border-2 border-warm-gray/30 overflow-hidden bg-dark-navy shadow-lg"><div class="flex items-center justify-between px-6 py-4 bg-dark-navy/80 border-b border-warm-gray/20"><div class="flex items-center space-x-4"><div class="flex space-x-2"><div class="w-3 h-3 rounded-full bg-innovation-orange"></div><div class="w-3 h-3 rounded-full bg-yellow"></div><div class="w-3 h-3 rounded-full bg-green"></div></div><span class="text-xs text-warm-gray uppercase tracking-wider font-mono bg-warm-gray/10 px-2 py-1 rounded">text</span></div><button class="flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-warm-gray hover:text-true-white hover:bg-warm-gray/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span>Copy</span></button></div><div class="relative"><pre class="p-6 text-sm overflow-x-auto leading-relaxed"><code class="text-true-white font-mono">‚úÖ App started successfully!

üìã App Details:
  Name: mcp-custom-server-your-prefix
  URL: https://mcp-custom-server-your-prefix-xxxxx.aws.databricksapps.com/mcp/

üîó MCP Connection URL (use this in AI assistants):
  https://mcp-custom-server-your-prefix-xxxxx.aws.databricksapps.com/mcp/</code></pre></div></div><p class="text-sm text-slate-600 mt-3"><strong>Save that MCP URL!</strong> You&#x27;ll use it to connect Claude Desktop, Cursor IDE, or other AI assistants.</p></div><div class="bg-blue-50 rounded-xl p-6 border-2 border-blue-200"><h3 class="text-lg font-bold text-slate-900 mb-3">üí° Local vs Production: Different Commands</h3><div class="space-y-3 text-sm text-slate-700"><div><p class="font-bold">Local Development (uses UV):</p><code class="bg-blue-100 px-2 py-1 rounded text-xs block mt-1">uv run uvicorn custom_server.app:app --reload</code><p class="text-xs mt-1 text-slate-600">UV manages the virtual environment and dependencies for you locally.</p></div><div><p class="font-bold">Production on Databricks Apps (no UV needed):</p><code class="bg-blue-100 px-2 py-1 rounded text-xs block mt-1">uvicorn custom_server.app:app --host 0.0.0.0 --port 8000</code><p class="text-xs mt-1 text-slate-600">Dependencies are already installed from the wheel. This is configured in <code class="bg-blue-50 px-1 rounded">app.yaml</code>.</p></div></div></div></div></div></div></div></div><div class="relative mb-12 bg-white rounded-2xl border-2 border-slate-200 p-8 shadow-sm"><div class="flex items-start gap-6"><div class="flex h-12 w-12 items-center justify-center rounded-full text-lg font-bold text-white shadow-lg flex-shrink-0 bg-gradient-to-br from-sky-500 to-blue-600">5</div><div class="flex-1 min-w-0"><h3 class="text-2xl font-bold text-slate-900 mb-6">Examine the Databricks SDK Tools</h3><div class="prose prose-slate max-w-none"><div class="space-y-6"><p class="text-lg text-slate-700 leading-relaxed">Great news! Your MCP server template already includes powerful Databricks SDK tools. Let&#x27;s examine them to understand the patterns for building MCP tools that query Databricks resources.</p><div class="bg-purple-50 rounded-xl p-6 border-2 border-purple-200"><h3 class="text-xl font-bold text-slate-900 mb-4">üéØ What You&#x27;ll Learn</h3><ul class="space-y-2 text-slate-700"><li>‚Ä¢ How the Databricks SDK is already integrated as a dependency</li><li>‚Ä¢ The pattern for creating MCP tools that call Databricks APIs</li><li>‚Ä¢ How authentication works (spoiler: it&#x27;s automatic in Databricks Apps!)</li><li>‚Ä¢ Best practices for tool design: clear names, good docstrings, error handling</li></ul></div><h3 class="text-xl font-bold text-slate-900">The Databricks SDK Dependency</h3><p class="text-slate-700">Open <code class="bg-orange-200 px-1.5 py-0.5 rounded font-mono">pyproject.toml</code> and you&#x27;ll see <code class="bg-orange-100 px-1 py-0.5 rounded text-sm">databricks-sdk</code> already in the dependencies:</p><div class="my-6 rounded-xl border-2 border-warm-gray/30 overflow-hidden bg-dark-navy shadow-lg"><div class="flex items-center justify-between px-6 py-4 bg-dark-navy/80 border-b border-warm-gray/20"><div class="flex items-center space-x-4"><div class="flex space-x-2"><div class="w-3 h-3 rounded-full bg-innovation-orange"></div><div class="w-3 h-3 rounded-full bg-yellow"></div><div class="w-3 h-3 rounded-full bg-green"></div></div><span class="text-sm font-semibold text-true-white">pyproject.toml - Already configured</span><span class="text-xs text-warm-gray uppercase tracking-wider font-mono bg-warm-gray/10 px-2 py-1 rounded">toml</span></div><button class="flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-warm-gray hover:text-true-white hover:bg-warm-gray/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span>Copy</span></button></div><div class="relative"><pre class="p-6 text-sm overflow-x-auto leading-relaxed"><code class="text-true-white font-mono">[project]
name = &quot;custom-server&quot;
version = &quot;0.1.0&quot;
requires-python = &quot;&gt;=3.11&quot;
dependencies = [
    &quot;fastapi&gt;=0.115.12&quot;,
    &quot;mcp[cli]&gt;=1.10.0&quot;,
    &quot;uvicorn&gt;=0.34.2&quot;,
    &quot;databricks-sdk&gt;=0.42.0&quot;,  # ‚Üê Already included!
]</code></pre></div></div><div class="bg-blue-50 rounded-lg p-4 border border-blue-200"><p class="text-sm text-slate-700"><strong>üí° Why this matters:</strong> The Databricks SDK provides Python methods for every Databricks API. Instead of making raw HTTP requests, you can just call <code class="bg-blue-100 px-1 py-0.5 rounded text-xs">w.clusters.list()</code> or<code class="bg-blue-100 px-1 py-0.5 rounded text-xs">w.warehouses.get()</code>. Much easier!</p></div><h3 class="text-xl font-bold text-slate-900 mt-8">The Authentication Helper</h3><p class="text-slate-700">In <code class="bg-orange-200 px-1.5 py-0.5 rounded font-mono">src/custom_server/app.py</code>, find the <code class="bg-orange-100 px-1 py-0.5 rounded text-sm">get_workspace_client()</code> function:</p><div class="my-6 rounded-xl border-2 border-warm-gray/30 overflow-hidden bg-dark-navy shadow-lg"><div class="flex items-center justify-between px-6 py-4 bg-dark-navy/80 border-b border-warm-gray/20"><div class="flex items-center space-x-4"><div class="flex space-x-2"><div class="w-3 h-3 rounded-full bg-innovation-orange"></div><div class="w-3 h-3 rounded-full bg-yellow"></div><div class="w-3 h-3 rounded-full bg-green"></div></div><span class="text-sm font-semibold text-true-white">src/custom_server/app.py - Authentication helper (lines 34-43)</span><span class="text-xs text-warm-gray uppercase tracking-wider font-mono bg-warm-gray/10 px-2 py-1 rounded">python</span></div><button class="flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-warm-gray hover:text-true-white hover:bg-warm-gray/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span>Copy</span></button></div><div class="relative"><pre class="p-6 text-sm overflow-x-auto leading-relaxed"><code class="text-true-white font-mono">def get_workspace_client() -&gt; WorkspaceClient:
    &quot;&quot;&quot;Get an authenticated Databricks workspace client.
    
    This uses environment variables or Databricks Apps authentication.
    In Databricks Apps, authentication is handled automatically!
    &quot;&quot;&quot;
    return WorkspaceClient(
        host=os.environ.get(&#x27;DATABRICKS_HOST&#x27;),
        token=os.environ.get(&#x27;DATABRICKS_TOKEN&#x27;)
    )</code></pre></div></div><div class="bg-green-50 rounded-lg p-4 border border-green-200"><p class="text-sm text-slate-700 mb-2"><strong>üîê Authentication Magic:</strong></p><ul class="text-sm text-slate-700 space-y-1 ml-4"><li>‚Ä¢ <strong>In Databricks Apps:</strong> Environment variables are set automatically - no config needed!</li><li>‚Ä¢ <strong>Local development:</strong> Set DATABRICKS_HOST and DATABRICKS_TOKEN in your terminal</li><li>‚Ä¢ <strong>The SDK handles:</strong> Token refresh, retries, rate limiting - all transparent to you</li></ul></div><h3 class="text-xl font-bold text-slate-900 mt-8">Example Tool: list_clusters</h3><p class="text-slate-700">Scroll down in <code class="bg-orange-200 px-1.5 py-0.5 rounded font-mono">app.py</code> to see the <code class="bg-orange-100 px-1 py-0.5 rounded text-sm">list_clusters</code> tool (around line 46):</p><div class="my-6 rounded-xl border-2 border-warm-gray/30 overflow-hidden bg-dark-navy shadow-lg"><div class="flex items-center justify-between px-6 py-4 bg-dark-navy/80 border-b border-warm-gray/20"><div class="flex items-center space-x-4"><div class="flex space-x-2"><div class="w-3 h-3 rounded-full bg-innovation-orange"></div><div class="w-3 h-3 rounded-full bg-yellow"></div><div class="w-3 h-3 rounded-full bg-green"></div></div><span class="text-sm font-semibold text-true-white">src/custom_server/app.py - Examine this tool (lines 46-80)</span><span class="text-xs text-warm-gray uppercase tracking-wider font-mono bg-warm-gray/10 px-2 py-1 rounded">python</span></div><button class="flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-warm-gray hover:text-true-white hover:bg-warm-gray/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span>Copy</span></button></div><div class="relative"><pre class="p-6 text-sm overflow-x-auto leading-relaxed"><code class="text-true-white font-mono">@mcp.tool()
def list_clusters(status: str = &quot;RUNNING&quot;) -&gt; dict:
    &quot;&quot;&quot;List Databricks compute clusters filtered by status.
    
    Args:
        status: Filter by cluster state (RUNNING, TERMINATED, PENDING, etc.)
    
    Returns:
        Dictionary with cluster information including ID, name, state, and specs
    
    Example:
        list_clusters(&quot;RUNNING&quot;) -&gt; Shows all currently running clusters
    &quot;&quot;&quot;
    try:
        w = get_workspace_client()
        clusters = []
        
        for cluster in w.clusters.list():
            if cluster.state and cluster.state.name == status:
                clusters.append({
                    &quot;id&quot;: cluster.cluster_id,
                    &quot;name&quot;: cluster.cluster_name,
                    &quot;state&quot;: cluster.state.name,
                    &quot;spark_version&quot;: cluster.spark_version,
                    &quot;node_type&quot;: cluster.node_type_id,
                })
        
        return {
            &quot;success&quot;: True,
            &quot;clusters&quot;: clusters,
            &quot;count&quot;: len(clusters),
            &quot;message&quot;: f&quot;Found {len(clusters)} cluster(s) with status {status}&quot;
        }
    except Exception as e:
        return {&quot;success&quot;: False, &quot;error&quot;: str(e)}</code></pre></div></div><div class="bg-yellow-50 rounded-xl p-6 border-2 border-yellow-200"><h3 class="text-lg font-bold text-slate-900 mb-3">üéì Understanding the MCP Tool Pattern</h3><div class="space-y-3 text-sm text-slate-700"><div><p class="font-bold">@mcp.tool() decorator</p><p>Tells FastMCP &quot;this function is a tool that AI assistants can call&quot;</p></div><div><p class="font-bold">Detailed docstring</p><p>The AI sees this! It helps the AI understand WHEN and HOW to use your tool. Be descriptive!</p></div><div><p class="font-bold">Type hints (status: str, <!-- -->-&gt;<!-- --> dict)</p><p>MCP uses these to validate inputs and describe outputs. Always include them!</p></div><div><p class="font-bold">Try/except error handling</p><p>Returns <code class="bg-yellow-100 px-1 py-0.5 rounded text-xs">{&quot;success&quot;: false, &quot;error&quot;: &quot;...&quot;}</code> instead of crashing. The AI can handle errors gracefully.</p></div><div><p class="font-bold">Structured return data</p><p>Returns dictionaries with clear fields. Makes it easy for AI to parse and present results.</p></div></div></div><div class="my-6 rounded-xl border-2 border-teal/30 bg-teal/5 p-6"><div class="flex items-start gap-4"><div class="flex h-8 w-8 items-center justify-center rounded-lg text-lg flex-shrink-0 bg-teal/10 text-teal">‚ÑπÔ∏è</div><div class="flex-1 min-w-0"><h4 class="font-bold mb-3 text-lg text-teal">Key Takeaway</h4><div class="leading-relaxed text-dark-navy"><p class="mb-2">Notice the pattern: Every MCP tool in this server follows the same structure:</p><ul class="space-y-1 ml-4 text-sm"><li>1. <code class="bg-blue-100 px-1 py-0.5 rounded text-xs">@mcp.tool()</code> decorator</li><li>2. Clear docstring explaining what it does</li><li>3. Get authenticated client with <code class="bg-blue-100 px-1 py-0.5 rounded text-xs">get_workspace_client()</code></li><li>4. Call Databricks SDK methods</li><li>5. Return structured data with success/error handling</li></ul><p class="text-sm mt-3">You&#x27;ll use this exact pattern when building your own tool in Step 7!</p></div></div></div></div></div></div></div></div></div><div class="relative mb-12 bg-white rounded-2xl border-2 border-slate-200 p-8 shadow-sm"><div class="flex items-start gap-6"><div class="flex h-12 w-12 items-center justify-center rounded-full text-lg font-bold text-white shadow-lg flex-shrink-0 bg-gradient-to-br from-sky-500 to-blue-600">6</div><div class="flex-1 min-w-0"><h3 class="text-2xl font-bold text-slate-900 mb-6">Understand the SQL Tools</h3><div class="prose prose-slate max-w-none"><div class="space-y-6"><p class="text-lg text-slate-700 leading-relaxed">Now let&#x27;s examine two more powerful tools already in your MCP server: one that lists SQL warehouses and another that executes SQL queries. These show you how MCP tools can interact with Databricks&#x27; data layer.</p><h3 class="text-xl font-bold text-slate-900">Tool 2: list_warehouses</h3><p class="text-slate-700 mb-4">Find this tool in <code class="bg-orange-200 px-1.5 py-0.5 rounded font-mono">app.py</code> (around line 84):</p><div class="my-6 rounded-xl border-2 border-warm-gray/30 overflow-hidden bg-dark-navy shadow-lg"><div class="flex items-center justify-between px-6 py-4 bg-dark-navy/80 border-b border-warm-gray/20"><div class="flex items-center space-x-4"><div class="flex space-x-2"><div class="w-3 h-3 rounded-full bg-innovation-orange"></div><div class="w-3 h-3 rounded-full bg-yellow"></div><div class="w-3 h-3 rounded-full bg-green"></div></div><span class="text-sm font-semibold text-true-white">src/custom_server/app.py - Examine this tool (lines 84-113)</span><span class="text-xs text-warm-gray uppercase tracking-wider font-mono bg-warm-gray/10 px-2 py-1 rounded">python</span></div><button class="flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-warm-gray hover:text-true-white hover:bg-warm-gray/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span>Copy</span></button></div><div class="relative"><pre class="p-6 text-sm overflow-x-auto leading-relaxed"><code class="text-true-white font-mono">@mcp.tool()
def list_warehouses() -&gt; dict:
    &quot;&quot;&quot;List all SQL warehouses in the Databricks workspace.
    
    Returns:
        Dictionary with warehouse information including ID, name, state, size, and type
    
    Example:
        list_warehouses() -&gt; Shows all SQL warehouses in your workspace
    &quot;&quot;&quot;
    try:
        w = get_workspace_client()
        warehouses = []
        
        for warehouse in w.warehouses.list():
            warehouses.append({
                &#x27;id&#x27;: warehouse.id,
                &#x27;name&#x27;: warehouse.name,
                &#x27;state&#x27;: warehouse.state.value if warehouse.state else &#x27;UNKNOWN&#x27;,
                &#x27;size&#x27;: warehouse.cluster_size,
                &#x27;type&#x27;: warehouse.warehouse_type.value if warehouse.warehouse_type else &#x27;UNKNOWN&#x27;,
            })
        
        return {
            &#x27;success&#x27;: True,
            &#x27;warehouses&#x27;: warehouses,
            &#x27;count&#x27;: len(warehouses),
            &#x27;message&#x27;: f&#x27;Found {len(warehouses)} SQL warehouse(s)&#x27;
        }
    except Exception as e:
        return {&#x27;success&#x27;: False, &#x27;error&#x27;: str(e)}</code></pre></div></div><div class="bg-blue-50 rounded-lg p-4 border border-blue-200"><p class="text-sm text-slate-700"><strong>üí° Notice:</strong> This follows the same pattern as <code class="bg-blue-100 px-1 py-0.5 rounded text-xs">list_clusters</code>, but uses <code class="bg-blue-100 px-1 py-0.5 rounded text-xs">w.warehouses.list()</code> instead. The SDK makes it easy to query different Databricks resources with consistent APIs!</p></div><h3 class="text-xl font-bold text-slate-900 mt-8">Tool 3: execute_dbsql</h3><p class="text-slate-700 mb-4">This is the most powerful tool - it lets AI assistants query your data! Find it in <code class="bg-orange-200 px-1.5 py-0.5 rounded font-mono">app.py</code> (around line 117):</p><div class="my-6 rounded-xl border-2 border-warm-gray/30 overflow-hidden bg-dark-navy shadow-lg"><div class="flex items-center justify-between px-6 py-4 bg-dark-navy/80 border-b border-warm-gray/20"><div class="flex items-center space-x-4"><div class="flex space-x-2"><div class="w-3 h-3 rounded-full bg-innovation-orange"></div><div class="w-3 h-3 rounded-full bg-yellow"></div><div class="w-3 h-3 rounded-full bg-green"></div></div><span class="text-sm font-semibold text-true-white">src/custom_server/app.py - Examine this tool (lines 117-176)</span><span class="text-xs text-warm-gray uppercase tracking-wider font-mono bg-warm-gray/10 px-2 py-1 rounded">python</span></div><button class="flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-warm-gray hover:text-true-white hover:bg-warm-gray/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span>Copy</span></button></div><div class="relative"><pre class="p-6 text-sm overflow-x-auto leading-relaxed"><code class="text-true-white font-mono">@mcp.tool()
def execute_dbsql(
    query: str,
    warehouse_id: str = None,
    limit: int = 100,
) -&gt; dict:
    &quot;&quot;&quot;Execute a SQL query on a Databricks SQL warehouse.
    
    Args:
        query: SQL query to execute (e.g., &quot;SELECT * FROM main.default.sales LIMIT 10&quot;)
        warehouse_id: SQL warehouse ID (uses DATABRICKS_SQL_WAREHOUSE_ID env var if not provided)
        limit: Maximum rows to return (default: 100)
    
    Returns:
        Dictionary with query results including columns and rows
    
    Example:
        execute_dbsql(&quot;SHOW DATABASES&quot;, warehouse_id=&quot;abc123def456&quot;)
    &quot;&quot;&quot;
    try:
        w = get_workspace_client()
        
        # Get warehouse ID from parameter or environment variable
        warehouse_id = warehouse_id or os.environ.get(&#x27;DATABRICKS_SQL_WAREHOUSE_ID&#x27;)
        if not warehouse_id:
            return {
                &#x27;success&#x27;: False,
                &#x27;error&#x27;: &#x27;No SQL warehouse ID provided. Set DATABRICKS_SQL_WAREHOUSE_ID environment variable or pass warehouse_id parameter.&#x27;
            }
        
        # Execute the query
        result = w.statement_execution.execute_statement(
            warehouse_id=warehouse_id,
            statement=query,
            wait_timeout=&#x27;30s&#x27;
        )
        
        # Process results
        if result.result and result.result.data_array:
            columns = [col.name for col in result.manifest.schema.columns]
            data = []
            
            for row in result.result.data_array[:limit]:
                row_dict = {}
                for i, col in enumerate(columns):
                    row_dict[col] = row[i]
                data.append(row_dict)
            
            return {
                &#x27;success&#x27;: True,
                &#x27;data&#x27;: {&#x27;columns&#x27;: columns, &#x27;rows&#x27;: data},
                &#x27;row_count&#x27;: len(data)
            }
        else:
            return {
                &#x27;success&#x27;: True,
                &#x27;data&#x27;: {&#x27;message&#x27;: &#x27;Query executed successfully with no results&#x27;},
                &#x27;row_count&#x27;: 0
            }
    except Exception as e:
        return {&#x27;success&#x27;: False, &#x27;error&#x27;: str(e)}</code></pre></div></div><div class="bg-red-50 rounded-xl p-6 border-2 border-red-200"><h3 class="text-lg font-bold text-red-900 mb-3">‚ö†Ô∏è Security Note: SQL Tool Design</h3><p class="text-sm text-slate-700 mb-3">Notice how this tool is designed with safety in mind:</p><ul class="space-y-2 text-sm text-slate-700"><li>‚Ä¢ <strong>Row limit:</strong> Default limit of 100 rows prevents accidentally returning huge datasets</li><li>‚Ä¢ <strong>Timeout:</strong> 30-second timeout prevents queries from running forever</li><li>‚Ä¢ <strong>Error handling:</strong> Returns errors as structured data instead of crashing</li><li>‚Ä¢ <strong>Unity Catalog permissions:</strong> The query respects the user&#x27;s existing Databricks permissions</li></ul><p class="text-sm text-slate-700 mt-3"><strong>Pro tip:</strong> In production, consider adding query validation, logging, and rate limiting!</p></div><div class="bg-green-50 rounded-xl p-6 border-2 border-green-200 mt-6"><h3 class="text-lg font-bold text-slate-900 mb-3">üéØ Ready to Build Your Own?</h3><p class="text-slate-700 mb-3">You&#x27;ve now examined three different MCP tools that query Databricks:</p><ul class="space-y-2 text-slate-700"><li>‚Ä¢ <code class="bg-green-100 px-1 py-0.5 rounded text-sm">list_clusters</code> - Query compute resources</li><li>‚Ä¢ <code class="bg-green-100 px-1 py-0.5 rounded text-sm">list_warehouses</code> - Query SQL endpoints</li><li>‚Ä¢ <code class="bg-green-100 px-1 py-0.5 rounded text-sm">execute_dbsql</code> - Run SQL queries</li></ul><p class="text-slate-700 mt-3">In the next step, you&#x27;ll build your own tool from scratch using the same pattern!</p></div></div></div></div></div></div><div class="relative mb-12 bg-white rounded-2xl border-2 border-slate-200 p-8 shadow-sm"><div class="flex items-start gap-6"><div class="flex h-12 w-12 items-center justify-center rounded-full text-lg font-bold text-white shadow-lg flex-shrink-0 bg-gradient-to-br from-sky-500 to-blue-600">7</div><div class="flex-1 min-w-0"><h3 class="text-2xl font-bold text-slate-900 mb-6">Build Your Own Tool: Unity Catalog Integration</h3><div class="prose prose-slate max-w-none"><div class="space-y-6"><p class="text-lg text-slate-700 leading-relaxed">Time to get your hands dirty! You&#x27;ll now <strong>build your own MCP tool from scratch</strong> that connects to Unity Catalog, Databricks&#x27; data governance layer. This tool will explore the catalog structure created during your workshop setup.</p><div class="bg-orange-50 rounded-xl p-6 border-2 border-orange-200"><h3 class="text-lg font-bold text-slate-900 mb-3">üéØ Your Task</h3><p class="text-slate-700 mb-3">You&#x27;ve examined existing tools. Now <strong>you&#x27;ll write the code yourself</strong> for a <code class="bg-orange-100 px-1 py-0.5 rounded text-sm">list_schemas</code> tool that queries your workshop catalog.</p><ul class="space-y-2 text-slate-700"><li>‚Ä¢ ‚úçÔ∏è Add the tool code to <code class="bg-orange-100 px-1 py-0.5 rounded text-sm">app.py</code></li><li>‚Ä¢ üß™ Test it locally with your workshop catalog</li><li>‚Ä¢ üìä See it discover the schemas you created during setup</li></ul></div><div class="bg-purple-50 rounded-xl p-6 border-2 border-purple-200"><h3 class="text-xl font-bold text-slate-900 mb-4">üéì Understanding Unity Catalog</h3><p class="text-slate-700 mb-4">Unity Catalog organizes data in a <strong>3-level namespace</strong>:</p><div class="bg-white rounded-lg p-4 border border-purple-200 mb-4"><code class="text-sm font-mono">catalog.schema.table</code></div><ul class="space-y-2 text-slate-700"><li>‚Ä¢ <strong>Catalog</strong>: Top-level container (e.g., <code class="bg-purple-100 px-1 py-0.5 rounded text-sm">mcp_workshop_john_doe</code>)</li><li>‚Ä¢ <strong>Schema</strong>: Database within a catalog (e.g., <code class="bg-purple-100 px-1 py-0.5 rounded text-sm">default</code>)</li><li>‚Ä¢ <strong>Table</strong>: Actual data tables (e.g., <code class="bg-purple-100 px-1 py-0.5 rounded text-sm">products</code>, <code class="bg-purple-100 px-1 py-0.5 rounded text-sm">sales</code>)</li></ul></div><div class="bg-blue-50 rounded-xl p-6 border-2 border-blue-200"><h3 class="text-lg font-bold text-slate-900 mb-3">üîó Connecting to Your Workshop Setup</h3><p class="text-slate-700 mb-3">Remember when you ran <code class="bg-blue-100 px-1 py-0.5 rounded text-sm">./setup.sh</code>? It created your personal catalog!</p><div class="bg-white rounded-lg p-4 border border-blue-200 font-mono text-sm"><div class="text-slate-600">Your Workshop Resources:</div><div class="mt-2 ml-2"><div>üìÅ <strong>mcp_workshop_&lt;your_prefix&gt;</strong> (catalog)</div><div class="ml-4">‚îî‚îÄ‚îÄ üìÇ <strong>default</strong> (schema)</div><div class="ml-8">‚îú‚îÄ‚îÄ üìä products (100 rows)</div><div class="ml-8">‚îú‚îÄ‚îÄ üìä customers (500 rows)</div><div class="ml-8">‚îî‚îÄ‚îÄ üìä sales (1000 rows)</div></div></div><p class="text-sm text-slate-600 mt-3">The tool you&#x27;re building will let AI assistants discover this structure!</p></div><h3 class="text-xl font-bold text-slate-900 mt-8">Step 1: Add the list_schemas Tool</h3><p class="text-slate-700 mb-4">Open <code class="bg-orange-200 px-1.5 py-0.5 rounded font-mono">src/custom_server/app.py</code> and <strong>add this new tool</strong> after the existing tools (after <code class="bg-orange-100 px-1 py-0.5 rounded text-sm">execute_dbsql</code>, around line 177):</p><div class="my-6 rounded-xl border-2 border-warm-gray/30 overflow-hidden bg-dark-navy shadow-lg"><div class="flex items-center justify-between px-6 py-4 bg-dark-navy/80 border-b border-warm-gray/20"><div class="flex items-center space-x-4"><div class="flex space-x-2"><div class="w-3 h-3 rounded-full bg-innovation-orange"></div><div class="w-3 h-3 rounded-full bg-yellow"></div><div class="w-3 h-3 rounded-full bg-green"></div></div><span class="text-sm font-semibold text-true-white">src/custom_server/app.py - ADD this tool yourself!</span><span class="text-xs text-warm-gray uppercase tracking-wider font-mono bg-warm-gray/10 px-2 py-1 rounded">python</span></div><button class="flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-warm-gray hover:text-true-white hover:bg-warm-gray/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span>Copy</span></button></div><div class="relative"><pre class="p-6 text-sm overflow-x-auto leading-relaxed"><code class="text-true-white font-mono">@mcp.tool()
def list_schemas(catalog_name: str) -&gt; dict:
    &quot;&quot;&quot;List all schemas in a Unity Catalog catalog.
    
    Args:
        catalog_name: Name of the catalog to list schemas from
    
    Returns:
        Dictionary with schema information including name, catalog, owner, and comment
    
    Example:
        list_schemas(&quot;mcp_workshop_john_doe&quot;) -&gt; Shows all schemas in your workshop catalog
    &quot;&quot;&quot;
    try:
        w = get_workspace_client()
        schemas = []
        
        for schema in w.schemas.list(catalog_name=catalog_name):
            schemas.append({
                &#x27;name&#x27;: schema.name,
                &#x27;full_name&#x27;: schema.full_name,
                &#x27;catalog&#x27;: schema.catalog_name,
                &#x27;owner&#x27;: schema.owner,
                &#x27;comment&#x27;: schema.comment or &#x27;No description&#x27;
            })
        
        return {
            &#x27;success&#x27;: True,
            &#x27;schemas&#x27;: schemas,
            &#x27;count&#x27;: len(schemas),
            &#x27;message&#x27;: f&#x27;Found {len(schemas)} schema(s) in catalog {catalog_name}&#x27;
        }
    except Exception as e:
        return {&#x27;success&#x27;: False, &#x27;error&#x27;: str(e)}</code></pre></div></div><div class="bg-yellow-50 rounded-xl p-6 border-2 border-yellow-200"><h3 class="text-lg font-bold text-slate-900 mb-3">üìö Understanding the Schema API</h3><div class="space-y-3 text-sm text-slate-700"><div><p class="font-bold">w.schemas.list(catalog_name)</p><p>Iterates through all schemas in the catalog. The SDK automatically handles pagination and permissions!</p></div><div><p class="font-bold">schema.full_name</p><p>Returns the complete path like <code class="bg-yellow-100 px-1 py-0.5 rounded text-xs">mcp_workshop_john_doe.default</code></p></div><div><p class="font-bold">Automatic permission filtering</p><p>Users only see schemas they have the <code class="bg-yellow-100 px-1 py-0.5 rounded text-xs">USE_SCHEMA</code> privilege on. Security is built-in!</p></div></div></div><h3 class="text-xl font-bold text-slate-900 mt-8">Step 2: Test Locally with MCP Inspector</h3><p class="text-slate-700 mb-4">Now test your new tool locally using the MCP Inspector to connect to your server:</p><div class="my-6 rounded-xl border-2 border-warm-gray/30 overflow-hidden bg-dark-navy shadow-lg"><div class="flex items-center justify-between px-6 py-4 bg-dark-navy/80 border-b border-warm-gray/20"><div class="flex items-center space-x-4"><div class="flex space-x-2"><div class="w-3 h-3 rounded-full bg-innovation-orange"></div><div class="w-3 h-3 rounded-full bg-yellow"></div><div class="w-3 h-3 rounded-full bg-green"></div></div><span class="text-sm font-semibold text-true-white">Terminal - Start your MCP server</span><span class="text-xs text-warm-gray uppercase tracking-wider font-mono bg-warm-gray/10 px-2 py-1 rounded">bash</span></div><button class="flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-warm-gray hover:text-true-white hover:bg-warm-gray/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span>Copy</span></button></div><div class="relative"><pre class="p-6 text-sm overflow-x-auto leading-relaxed"><code class="text-true-white font-mono"># Get your workshop catalog name from the setup
cd custom-mcp-template
source ../.env.local
echo &quot;Your workshop catalog: $WORKSHOP_CATALOG&quot;

# Make sure the server is running
uv run uvicorn custom_server.app:app --reload --host 0.0.0.0 --port 8000</code></pre></div></div><div class="my-6 rounded-xl border-2 border-warm-gray/30 overflow-hidden bg-dark-navy shadow-lg"><div class="flex items-center justify-between px-6 py-4 bg-dark-navy/80 border-b border-warm-gray/20"><div class="flex items-center space-x-4"><div class="flex space-x-2"><div class="w-3 h-3 rounded-full bg-innovation-orange"></div><div class="w-3 h-3 rounded-full bg-yellow"></div><div class="w-3 h-3 rounded-full bg-green"></div></div><span class="text-sm font-semibold text-true-white">Terminal - Launch MCP Inspector (in a new terminal)</span><span class="text-xs text-warm-gray uppercase tracking-wider font-mono bg-warm-gray/10 px-2 py-1 rounded">bash</span></div><button class="flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-warm-gray hover:text-true-white hover:bg-warm-gray/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span>Copy</span></button></div><div class="relative"><pre class="p-6 text-sm overflow-x-auto leading-relaxed"><code class="text-true-white font-mono">npx @modelcontextprotocol/inspector http://localhost:8000/mcp</code></pre></div></div><div class="my-6 rounded-xl border-2 border-teal/30 bg-teal/5 p-6"><div class="flex items-start gap-4"><div class="flex h-8 w-8 items-center justify-center rounded-lg text-lg flex-shrink-0 bg-teal/10 text-teal">‚ÑπÔ∏è</div><div class="flex-1 min-w-0"><h4 class="font-bold mb-3 text-lg text-teal">Configure the Inspector</h4><div class="leading-relaxed text-dark-navy"><p class="mb-3">Once the MCP Inspector opens in your browser:</p><ol class="list-decimal list-inside space-y-2 text-sm"><li>Make sure <strong>Transport Type</strong> is set to <code class="bg-blue-100 px-1.5 py-0.5 rounded text-xs">StreamableHTTP</code></li><li>Verify the <strong>URL</strong> is <code class="bg-blue-100 px-1.5 py-0.5 rounded text-xs">http://localhost:8000/mcp</code></li><li>Click <strong>Connect</strong></li><li>Once connected, you&#x27;ll see all available tools including <code class="bg-blue-100 px-1.5 py-0.5 rounded text-xs">list_schemas</code></li><li>Click on <strong>list_schemas</strong> and test it with your catalog name (e.g., <code class="bg-blue-100 px-1.5 py-0.5 rounded text-xs">mcp_workshop_john_doe</code>)</li></ol></div></div></div></div><div class="my-6 rounded-xl border-2 border-green/30 bg-green/5 p-6"><div class="flex items-start gap-4"><div class="flex h-8 w-8 items-center justify-center rounded-lg text-lg flex-shrink-0 bg-green/10 text-green">‚úÖ</div><div class="flex-1 min-w-0"><h4 class="font-bold mb-3 text-lg text-green">Expected Result</h4><div class="leading-relaxed text-dark-navy"><p class="mb-2">After calling the tool, you should see output like this in the Inspector:</p><div class="my-6 rounded-xl border-2 border-warm-gray/30 overflow-hidden bg-dark-navy shadow-lg"><div class="flex items-center justify-between px-6 py-4 bg-dark-navy/80 border-b border-warm-gray/20"><div class="flex items-center space-x-4"><div class="flex space-x-2"><div class="w-3 h-3 rounded-full bg-innovation-orange"></div><div class="w-3 h-3 rounded-full bg-yellow"></div><div class="w-3 h-3 rounded-full bg-green"></div></div><span class="text-xs text-warm-gray uppercase tracking-wider font-mono bg-warm-gray/10 px-2 py-1 rounded">json</span></div><button class="flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-warm-gray hover:text-true-white hover:bg-warm-gray/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span>Copy</span></button></div><div class="relative"><pre class="p-6 text-sm overflow-x-auto leading-relaxed"><code class="text-true-white font-mono">{
  &quot;success&quot;: true,
  &quot;schemas&quot;: [
    {
      &quot;name&quot;: &quot;default&quot;,
      &quot;full_name&quot;: &quot;mcp_workshop_john_doe.default&quot;,
      &quot;catalog&quot;: &quot;mcp_workshop_john_doe&quot;,
      &quot;owner&quot;: &quot;your_email@example.com&quot;,
      &quot;comment&quot;: &quot;Default schema for workshop tables and functions&quot;
    }
  ],
  &quot;count&quot;: 1,
  &quot;message&quot;: &quot;Found 1 schema(s) in catalog mcp_workshop_john_doe&quot;
}</code></pre></div></div><p class="text-sm mt-3">This confirms your workshop catalog is set up correctly with the <strong>default</strong> schema containing your sample data!</p></div></div></div></div><div class="bg-green-50 rounded-xl p-6 border-2 border-green-200"><h3 class="text-lg font-bold text-slate-900 mb-3">üí° Why This Tool Matters</h3><ul class="space-y-2 text-slate-700"><li>‚Ä¢ <strong>Data Discovery:</strong> AI assistants can explore available schemas before querying</li><li>‚Ä¢ <strong>Governance:</strong> Respects Unity Catalog permissions automatically</li><li>‚Ä¢ <strong>Context Building:</strong> Combined with <code class="bg-green-100 px-1 py-0.5 rounded text-xs">execute_dbsql</code>, AI can fully understand your data landscape</li><li>‚Ä¢ <strong>Workshop Connection:</strong> This directly queries the resources created during setup!</li></ul></div><div class="bg-slate-50 rounded-lg p-4 border border-slate-200 mt-6"><p class="text-sm text-slate-700"><strong>üìñ Learn More:</strong> The Databricks SDK provides similar APIs for <code class="bg-slate-100 px-1 py-0.5 rounded text-xs">w.tables</code>,<code class="bg-slate-100 px-1 py-0.5 rounded text-xs ml-1">w.catalogs</code>, and more. Check the<a href="https://docs.databricks.com/en/dev-tools/sdk-python.html" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline ml-1">Databricks SDK documentation</a> to explore!</p></div></div></div></div></div></div><div class="relative mb-12 bg-white rounded-2xl border-2 border-slate-200 p-8 shadow-sm"><div class="flex items-start gap-6"><div class="flex h-12 w-12 items-center justify-center rounded-full text-lg font-bold text-white shadow-lg flex-shrink-0 bg-gradient-to-br from-sky-500 to-blue-600">8</div><div class="flex-1 min-w-0"><h3 class="text-2xl font-bold text-slate-900 mb-6">Deploy Your Enhanced MCP Server</h3><div class="prose prose-slate max-w-none"><div class="space-y-6"><p class="text-lg text-slate-700 leading-relaxed">Great work adding the <code class="bg-orange-100 px-1 py-0.5 rounded text-sm">list_schemas</code> tool! Now let&#x27;s deploy your enhanced MCP server with this new Unity Catalog integration.</p><div class="bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border-2 border-green-200"><h3 class="text-xl font-bold text-slate-900 mb-3">üéØ What You&#x27;re Deploying</h3><ul class="space-y-2 text-slate-700"><li>‚Ä¢ Your custom MCP server with the new <code class="bg-green-100 px-1 py-0.5 rounded text-xs">list_schemas</code> tool</li><li>‚Ä¢ Packaged as a Python wheel and uploaded to Databricks</li><li>‚Ä¢ Running 24/7 as a Databricks App with HTTPS endpoint</li><li>‚Ä¢ Ready for AI assistants to discover and query your Unity Catalog data</li></ul></div><div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200 mb-6"><h3 class="text-xl font-bold text-slate-900 mb-3">üöÄ Option 1: Automated Deployment (Recommended)</h3><p class="text-slate-700 mb-4">Use the <code class="bg-blue-100 px-1 py-0.5 rounded text-sm">deploy.sh</code> script for a fully automated deployment:</p><div class="my-6 rounded-xl border-2 border-warm-gray/30 overflow-hidden bg-dark-navy shadow-lg"><div class="flex items-center justify-between px-6 py-4 bg-dark-navy/80 border-b border-warm-gray/20"><div class="flex items-center space-x-4"><div class="flex space-x-2"><div class="w-3 h-3 rounded-full bg-innovation-orange"></div><div class="w-3 h-3 rounded-full bg-yellow"></div><div class="w-3 h-3 rounded-full bg-green"></div></div><span class="text-sm font-semibold text-true-white">Terminal - Automated deployment</span><span class="text-xs text-warm-gray uppercase tracking-wider font-mono bg-warm-gray/10 px-2 py-1 rounded">bash</span></div><button class="flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-warm-gray hover:text-true-white hover:bg-warm-gray/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span>Copy</span></button></div><div class="relative"><pre class="p-6 text-sm overflow-x-auto leading-relaxed"><code class="text-true-white font-mono">cd custom-mcp-template

# Load your participant prefix
source ../.env.local

# Run the deploy script
./deploy.sh

# The script automatically:
# 1. Builds the Python wheel with your new tool
# 2. Converts underscores to dashes in your prefix
# 3. Deploys to Databricks with proper authentication
# 4. Starts the app
# 5. Displays your MCP connection URL</code></pre></div></div><div class="bg-blue-100 rounded-lg p-3 mt-3"><p class="text-sm text-slate-700"><strong>‚ú® After deployment:</strong> The script will show your MCP endpoint URL. Copy it - you&#x27;ll use it to connect AI assistants in the next section!</p></div></div><div class="bg-slate-50 rounded-xl p-6 border-2 border-slate-200"><h3 class="text-xl font-bold text-slate-900 mb-3">‚öôÔ∏è Option 2: Manual Deployment</h3><p class="text-slate-700 mb-4">For more control or if you want to understand each step:</p><div class="my-6 rounded-xl border-2 border-warm-gray/30 overflow-hidden bg-dark-navy shadow-lg"><div class="flex items-center justify-between px-6 py-4 bg-dark-navy/80 border-b border-warm-gray/20"><div class="flex items-center space-x-4"><div class="flex space-x-2"><div class="w-3 h-3 rounded-full bg-innovation-orange"></div><div class="w-3 h-3 rounded-full bg-yellow"></div><div class="w-3 h-3 rounded-full bg-green"></div></div><span class="text-sm font-semibold text-true-white">Terminal - Manual deployment</span><span class="text-xs text-warm-gray uppercase tracking-wider font-mono bg-warm-gray/10 px-2 py-1 rounded">bash</span></div><button class="flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-warm-gray hover:text-true-white hover:bg-warm-gray/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span>Copy</span></button></div><div class="relative"><pre class="p-6 text-sm overflow-x-auto leading-relaxed"><code class="text-true-white font-mono">cd custom-mcp-template

# 1. Load your participant prefix
source ../.env.local

# 2. Build the Python wheel
uv build --wheel

# 3. Convert prefix (app names need dashes, not underscores)
CLEAN_PREFIX=$(echo &quot;$PARTICIPANT_PREFIX&quot; | tr &#x27;_&#x27; &#x27;-&#x27;)
echo &quot;Deploying as: mcp-custom-server-$CLEAN_PREFIX&quot;

# 4. Deploy with bundle
unset DATABRICKS_AUTH_TYPE
databricks bundle deploy --var=&quot;participant_prefix=$CLEAN_PREFIX&quot;

# 5. Start and deploy the app
databricks bundle run custom-mcp-server --var=&quot;participant_prefix=$CLEAN_PREFIX&quot;

# 6. Get the MCP endpoint URL
databricks apps get &quot;mcp-custom-server-$CLEAN_PREFIX&quot; | grep url</code></pre></div></div></div><div class="bg-yellow-50 rounded-xl p-6 border-2 border-yellow-200"><h3 class="text-lg font-bold text-slate-900 mb-3">üìã What&#x27;s Happening?</h3><ol class="space-y-2 text-sm text-slate-700 ml-4"><li>1. <code class="bg-yellow-100 px-1 py-0.5 rounded text-xs">uv build --wheel</code> packages your enhanced MCP server with the new tool</li><li>2. Your prefix is cleaned (underscores ‚Üí dashes) to meet Databricks Apps naming requirements</li><li>3. The bundle deploys to Databricks with your unique app name</li><li>4. <code class="bg-yellow-100 px-1 py-0.5 rounded text-xs">databricks bundle run</code> starts the app and deploys the code</li><li>5. Your enhanced MCP server is now live and accessible!</li></ol></div><div class="bg-green-50 rounded-xl p-6 border-2 border-green-200"><h3 class="text-lg font-bold text-slate-900 mb-3">‚úÖ Deployment Success</h3><p class="text-slate-700 mb-3">When deployment completes, you&#x27;ll see:</p><div class="my-6 rounded-xl border-2 border-warm-gray/30 overflow-hidden bg-dark-navy shadow-lg"><div class="flex items-center justify-between px-6 py-4 bg-dark-navy/80 border-b border-warm-gray/20"><div class="flex items-center space-x-4"><div class="flex space-x-2"><div class="w-3 h-3 rounded-full bg-innovation-orange"></div><div class="w-3 h-3 rounded-full bg-yellow"></div><div class="w-3 h-3 rounded-full bg-green"></div></div><span class="text-xs text-warm-gray uppercase tracking-wider font-mono bg-warm-gray/10 px-2 py-1 rounded">text</span></div><button class="flex items-center space-x-2 px-4 py-2 text-sm font-semibold text-warm-gray hover:text-true-white hover:bg-warm-gray/10 rounded-lg transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path></svg><span>Copy</span></button></div><div class="relative"><pre class="p-6 text-sm overflow-x-auto leading-relaxed"><code class="text-true-white font-mono">‚úÖ App started successfully!

üìã App Details:
  Name: mcp-custom-server-your-prefix
  URL: https://mcp-custom-server-your-prefix-xxxxx.aws.databricksapps.com/mcp/

üîó MCP Connection URL (use this in AI assistants):
  https://mcp-custom-server-your-prefix-xxxxx.aws.databricksapps.com/mcp/

üìã Next steps:
  1. Check app status: ./app_status.sh
  2. View logs in Databricks workspace: Apps ‚Üí mcp-custom-server-your-prefix ‚Üí Logs
  3. Connect your AI assistant using the MCP URL above</code></pre></div></div><div class="bg-green-100 rounded-lg p-3 mt-3"><p class="text-sm text-slate-700"><strong>üíæ Save this URL!</strong> You&#x27;ll need it in the next section to connect your AI assistant and test your <code class="bg-green-200 px-1 py-0.5 rounded text-xs">list_schemas</code> tool.</p></div></div><div class="bg-red-50 rounded-xl p-6 border-2 border-red-200"><h3 class="text-lg font-bold text-slate-900 mb-3">‚ö†Ô∏è Troubleshooting</h3><div class="space-y-3 text-sm text-slate-700"><div><p class="font-bold">Error: &quot;auth type &#x27;profile&#x27; not found&quot;</p><p class="text-xs mt-1">Solution: Use <code class="bg-red-100 px-1 py-0.5 rounded text-xs">./deploy.sh</code> or manually <code class="bg-red-100 px-1 py-0.5 rounded text-xs">unset DATABRICKS_AUTH_TYPE</code> before deploying</p></div><div><p class="font-bold">Error: &quot;App name must contain only lowercase letters, numbers, and dashes&quot;</p><p class="text-xs mt-1">Solution: The deploy script handles this automatically. If deploying manually, use <code class="bg-red-100 px-1 py-0.5 rounded text-xs">tr &#x27;_&#x27; &#x27;-&#x27;</code></p></div><div><p class="font-bold">Error: &quot;App does not exist or is deleted&quot;</p><p class="text-xs mt-1">Solution: Clear stale state with <code class="bg-red-100 px-1 py-0.5 rounded text-xs">rm -rf .databricks</code> then redeploy</p></div></div><p class="text-xs text-slate-600 mt-3">üí° See <code class="bg-red-100 px-1 py-0.5 rounded text-xs">README.md</code> in the custom-mcp-template folder for detailed troubleshooting.</p></div><div class="bg-blue-50 rounded-lg p-4 border border-blue-200"><p class="text-sm text-slate-700"><strong>‚è±Ô∏è Deployment time:</strong> First deployment takes 2-3 minutes. Updates are faster (~30 seconds) since only changed files are uploaded.</p></div><div class="my-6 rounded-xl border-2 border-green/30 bg-green/5 p-6"><div class="flex items-start gap-4"><div class="flex h-8 w-8 items-center justify-center rounded-lg text-lg flex-shrink-0 bg-green/10 text-green">‚úÖ</div><div class="flex-1 min-w-0"><h4 class="font-bold mb-3 text-lg text-green">üéâ Your Enhanced MCP Server is Live!</h4><div class="leading-relaxed text-dark-navy"><p class="mb-2">Your MCP server now includes:</p><ul class="space-y-1 ml-4 text-sm"><li>‚Ä¢ ‚úÖ The <code class="bg-emerald-100 px-1 py-0.5 rounded text-xs">list_schemas</code> tool you built</li><li>‚Ä¢ ‚úÖ All existing tools: <code class="bg-emerald-100 px-1 py-0.5 rounded text-xs">list_clusters</code>, <code class="bg-emerald-100 px-1 py-0.5 rounded text-xs">list_warehouses</code>, <code class="bg-emerald-100 px-1 py-0.5 rounded text-xs">execute_dbsql</code></li><li>‚Ä¢ ‚úÖ Running 24/7 on Databricks with automatic authentication</li><li>‚Ä¢ ‚úÖ Ready to connect to AI assistants and explore your Unity Catalog!</li></ul></div></div></div></div></div></div></div></div></div><div class="relative mb-12 bg-white rounded-2xl border-2 border-slate-200 p-8 shadow-sm"><div class="flex items-start gap-6"><div class="flex h-12 w-12 items-center justify-center rounded-full text-lg font-bold text-white shadow-lg flex-shrink-0 bg-gradient-to-br from-sky-500 to-blue-600">9</div><div class="flex-1 min-w-0"><h3 class="text-2xl font-bold text-slate-900 mb-6">What You Built</h3><div class="prose prose-slate max-w-none"><div class="space-y-6"><p class="text-lg text-slate-700 leading-relaxed">Congratulations! You&#x27;ve built a production-ready MCP server. Let&#x27;s recap what you learned:</p><div class="grid md:grid-cols-2 gap-6"><div class="bg-white rounded-xl p-6 border-2 border-slate-200"><h3 class="text-xl font-bold text-slate-900 mb-3">‚úÖ What You Learned</h3><ul class="space-y-2 text-sm text-slate-700"><li>‚Ä¢ The <code class="bg-slate-100 px-1 py-0.5 rounded text-xs">@mcp.tool()</code> decorator pattern</li><li>‚Ä¢ How to integrate Databricks SDK</li><li>‚Ä¢ Authentication with WorkspaceClient</li><li>‚Ä¢ Error handling and structured responses</li><li>‚Ä¢ Building MCP tools that query Databricks</li></ul><div class="mt-4 pt-4 border-t border-slate-200"><h4 class="font-bold text-slate-900 mb-2">üõ†Ô∏è Tools You Built:</h4><ul class="space-y-1 text-sm text-slate-700"><li>‚Ä¢ <code class="bg-slate-100 px-1 py-0.5 rounded text-xs">list_clusters</code> - Query compute resources</li><li>‚Ä¢ <code class="bg-slate-100 px-1 py-0.5 rounded text-xs">list_warehouses</code> - Discover SQL endpoints</li><li>‚Ä¢ <code class="bg-slate-100 px-1 py-0.5 rounded text-xs">execute_dbsql</code> - Run SQL queries</li><li>‚Ä¢ <code class="bg-slate-100 px-1 py-0.5 rounded text-xs">list_schemas</code> - Explore Unity Catalog structure</li></ul></div></div><div class="bg-white rounded-xl p-6 border-2 border-slate-200"><h3 class="text-xl font-bold text-slate-900 mb-3">üìñ Why This Approach?</h3><p class="text-sm text-slate-700 mb-3">By starting with the <strong>clean databrickslabs template</strong>, you understand:</p><ul class="space-y-2 text-sm text-slate-700"><li>‚Ä¢ The core MCP server pattern</li><li>‚Ä¢ How <code class="bg-slate-100 px-1 py-0.5 rounded text-xs">@mcp.tool()</code> works</li><li>‚Ä¢ Databricks Apps deployment basics</li><li>‚Ä¢ What each file does</li></ul></div></div><div class="bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-6 border-2 border-orange-200"><h3 class="text-lg font-bold text-slate-900 mb-3">üöÄ Ready to Continue?</h3><p class="text-slate-700 mb-4">The next steps will build on this foundation by adding Databricks SDK integration, custom prompts, and helper scripts.</p><p class="text-sm text-slate-600"><strong>Coming up next:</strong> We&#x27;ll add the Databricks SDK to query clusters, run SQL, and access Unity Catalog!</p></div></div></div></div></div></div><div class="mt-16 p-8 rounded-2xl border-2 border-slate-200 bg-slate-50"><h3 class="text-2xl font-bold text-slate-900 mb-6">üìö Resources</h3><div class="grid md:grid-cols-3 gap-4"><a href="https://github.com/databrickslabs/mcp" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 rounded-lg border-2 border-slate-300 bg-white px-6 py-3 text-base font-bold text-slate-700 hover:bg-slate-50 transition-colors">databrickslabs/mcp<svg class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg></a><a href="https://fastmcp.org/" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 rounded-lg border-2 border-slate-300 bg-white px-6 py-3 text-base font-bold text-slate-700 hover:bg-slate-50 transition-colors">FastMCP Docs<svg class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg></a><a href="https://modelcontextprotocol.io/" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 rounded-lg border-2 border-slate-300 bg-white px-6 py-3 text-base font-bold text-slate-700 hover:bg-slate-50 transition-colors">MCP Spec<svg class="h-5 w-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg></a></div></div></div></div><!--$--><!--/$--></div></main></div><script src="/_next/static/chunks/webpack-2eb758dea75faf50.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[1871,[\"619\",\"static/chunks/619-ba102abea3e3d0e4.js\",\"177\",\"static/chunks/app/layout-8284c39862fe0a8e.js\"],\"default\"]\n3:I[2619,[\"619\",\"static/chunks/619-ba102abea3e3d0e4.js\",\"974\",\"static/chunks/app/page-e5d8c3c746fe6cca.js\"],\"\"]\n4:I[9766,[],\"\"]\n5:I[8924,[],\"\"]\n17:I[7150,[],\"\"]\n:HL[\"/_next/static/css/c20b138c24fe1487.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"-FssAOWqddSh6KjpX7lhp\",\"p\":\"\",\"c\":[\"\",\"custom-mcp\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"custom-mcp\",{\"children\":[\"__PAGE__\",{}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/c20b138c24fe1487.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"scroll-smooth\",\"children\":[\"$\",\"body\",null,{\"className\":\"bg-true-white text-dark-navy antialiased\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex min-h-screen\",\"children\":[[\"$\",\"$L2\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 overflow-hidden bg-true-white\",\"children\":[[\"$\",\"header\",null,{\"className\":\"lg:hidden border-b border-warm-gray/20 bg-true-white px-4 py-3 shadow-sm\",\"children\":[\"$\",\"$L3\",null,{\"href\":\"/\",\"className\":\"flex items-center gap-3\",\"children\":[[\"$\",\"div\",null,{\"className\":\"h-8 w-8 rounded-md bg-dark-navy flex items-center justify-center shadow-lg\",\"children\":[\"$\",\"span\",null,{\"className\":\"text-white font-bold text-sm\",\"children\":\"DB\"}]}],[\"$\",\"div\",null,{\"children\":[\"$\",\"h1\",null,{\"className\":\"text-lg font-bold text-dark-navy\",\"children\":\"MCP Workshop\"}]}]]}]}],[\"$\",\"div\",null,{\"className\":\"h-full overflow-y-auto bg-true-white text-dark-navy\",\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}]}]}]]}],{\"children\":[\"custom-mcp\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[[\"$\",\"div\",null,{\"className\":\"min-h-screen bg-white\",\"children\":[\"$\",\"div\",null,{\"className\":\"max-w-5xl mx-auto px-8 py-12\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-16\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center gap-6 mb-8\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex h-20 w-20 items-center justify-center rounded-2xl bg-gradient-to-br from-orange-500 to-orange-600 text-4xl text-white shadow-lg\",\"children\":\"üõ†Ô∏è\"}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-5xl font-bold text-slate-900 mb-2\",\"children\":\"Build Your Custom MCP Server\"}],[\"$\",\"p\",null,{\"className\":\"text-xl text-slate-600\",\"children\":\"Start with a clean databrickslabs/mcp template\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-8 border-2 border-green-200 mb-8\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-2xl font-bold text-slate-900 mb-4\",\"children\":\"‚ú® What You're Building\"}],[\"$\",\"p\",null,{\"className\":\"text-lg text-slate-700 leading-relaxed mb-4\",\"children\":[\"Your workshop setup created \",[\"$\",\"code\",null,{\"className\":\"bg-green-200 px-1.5 py-0.5 rounded font-mono\",\"children\":\"custom-mcp-template/\"}],\" - a clean MCP server based on \",[\"$\",\"a\",null,{\"href\":\"https://github.com/databrickslabs/mcp\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"text-blue-600 hover:underline font-semibold\",\"children\":\"databrickslabs/mcp\"}],\". You'll learn to extend it with Databricks capabilities!\"]}],[\"$\",\"ul\",null,{\"className\":\"space-y-2 text-slate-700\",\"children\":[\"$L6\",\"$L7\",\"$L8\",\"$L9\"]}]]}],\"$La\"]}],\"$Lb\",\"$Lc\",\"$Ld\",\"$Le\",\"$Lf\",\"$L10\",\"$L11\",\"$L12\",\"$L13\",\"$L14\"]}]}],null,\"$L15\"]}],{},null,false]},null,false]},null,false],\"$L16\",false]],\"m\":\"$undefined\",\"G\":[\"$17\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"18:I[3425,[\"733\",\"static/chunks/app/custom-mcp/page-73c288db9a6b69ba.js\"],\"default\"]\n43:I[4431,[],\"OutletBoundary\"]\n45:I[5278,[],\"AsyncMetadataOutlet\"]\n47:I[4431,[],\"ViewportBoundary\"]\n49:I[4431,[],\"MetadataBoundary\"]\n4a:\"$Sreact.suspense\"\n6:[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ üì¶ \",[\"$\",\"strong\",null,{\"children\":\"Already set up for you\"}],\" - ready to explore and modify\"]}]\n7:[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ üéØ Uses simple \",[\"$\",\"code\",null,{\"className\":\"bg-green-100 px-1 py-0.5 rounded text-sm\",\"children\":\"@mcp.tool()\"}],\" decorator pattern\"]}]\n8:[\"$\",\"li\",null,{\"children\":\"‚Ä¢ üöÄ Includes everything needed for Databricks Apps deployment\"}]\n9:[\"$\",\"li\",null,{\"children\":\"‚Ä¢ üî® You'll add Databricks SDK features in this workshop!\"}]\n"])</script><script>self.__next_f.push([1,"a:[\"$\",\"div\",null,{\"className\":\"my-6 rounded-xl border-2 border-teal/30 bg-teal/5 p-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-start gap-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex h-8 w-8 items-center justify-center rounded-lg text-lg flex-shrink-0 bg-teal/10 text-teal\",\"children\":\"‚ÑπÔ∏è\"}],[\"$\",\"div\",null,{\"className\":\"flex-1 min-w-0\",\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-bold mb-3 text-lg text-teal\",\"children\":\"Learning by Doing\"}],[\"$\",\"div\",null,{\"className\":\"leading-relaxed text-dark-navy\",\"children\":[\"$\",\"p\",null,{\"children\":[\"This workshop teaches you to build MCP servers by \",[\"$\",\"strong\",null,{\"children\":\"starting simple and adding features incrementally\"}],\". You'll understand not just what each piece does, but WHY it's there and how to customize it for your needs.\"]}]}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"b:[\"$\",\"div\",null,{\"className\":\"relative mb-12 bg-white rounded-2xl border-2 border-slate-200 p-8 shadow-sm\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-start gap-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex h-12 w-12 items-center justify-center rounded-full text-lg font-bold text-white shadow-lg flex-shrink-0 bg-gradient-to-br from-sky-500 to-blue-600\",\"children\":1}],[\"$\",\"div\",null,{\"className\":\"flex-1 min-w-0\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-2xl font-bold text-slate-900 mb-6\",\"children\":\"Understand Your MCP Server Structure\"}],[\"$\",\"div\",null,{\"className\":\"prose prose-slate max-w-none\",\"children\":[\"$\",\"div\",null,{\"className\":\"space-y-6\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-lg text-slate-700 leading-relaxed\",\"children\":[\"The workshop setup created \",[\"$\",\"code\",null,{\"className\":\"bg-orange-200 px-1.5 py-0.5 rounded font-mono\",\"children\":\"custom-mcp-template/\"}],\" for you. Let's understand what each file does and how they work together:\"]}],[\"$\",\"div\",null,{\"className\":\"bg-blue-50 rounded-lg p-4 border border-blue-200 mb-4\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-700\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"üí° Pro Tip:\"}],\" Open the \",[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-1 py-0.5 rounded text-xs\",\"children\":\"custom-mcp-template/\"}],\" folder in your code editor while following along. You'll be editing these files!\"]}]}],[\"$\",\"$L18\",null,{\"language\":\"bash\",\"title\":\"Project Structure\",\"code\":\"custom-mcp-template/\\n‚îú‚îÄ‚îÄ src/\\n‚îÇ   ‚îî‚îÄ‚îÄ custom_server/\\n‚îÇ       ‚îú‚îÄ‚îÄ app.py              # Main MCP server file\\n‚îÇ       ‚îú‚îÄ‚îÄ main.py             # Entry point for local dev\\n‚îÇ       ‚îú‚îÄ‚îÄ __init__.py\\n‚îÇ       ‚îî‚îÄ‚îÄ static/\\n‚îÇ           ‚îî‚îÄ‚îÄ index.html      # Landing page\\n‚îú‚îÄ‚îÄ hooks/\\n‚îÇ   ‚îî‚îÄ‚îÄ apps_build.py           # Databricks Apps build hook\\n‚îú‚îÄ‚îÄ app.yaml                    # App configuration\\n‚îú‚îÄ‚îÄ databricks.yml              # Bundle configuration\\n‚îú‚îÄ‚îÄ pyproject.toml              # Python dependencies\\n‚îî‚îÄ‚îÄ README.md                   # Documentation\"}],[\"$\",\"div\",null,{\"className\":\"bg-blue-50 rounded-xl p-6 border-2 border-blue-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-xl font-bold text-slate-900 mb-4\",\"children\":\"üéØ Key Files You'll Modify\"}],[\"$\",\"div\",null,{\"className\":\"space-y-4 text-slate-700\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"font-bold\",\"children\":\"src/custom_server/app.py\"}],[\"$\",\"p\",null,{\"className\":\"text-sm\",\"children\":[\"This is YOUR canvas! Add MCP tools here using the \",[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-1 py-0.5 rounded text-xs\",\"children\":\"@mcp.tool()\"}],\" decorator. Each tool becomes callable by AI assistants connected to your server.\"]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"font-bold\",\"children\":\"pyproject.toml\"}],[\"$\",\"p\",null,{\"className\":\"text-sm\",\"children\":[\"Manages Python dependencies. When you need new libraries (like \",[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-1 py-0.5 rounded text-xs\",\"children\":\"databricks-sdk\"}],\"), you'll add them here.\"]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"font-bold\",\"children\":\"databricks.yml\"}],[\"$\",\"p\",null,{\"className\":\"text-sm\",\"children\":\"Tells Databricks how to deploy your MCP server as an App. You'll customize the app name and settings here.\"}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"font-bold\",\"children\":\"app.yaml\"}],[\"$\",\"p\",null,{\"className\":\"text-sm\",\"children\":\"Specifies the command that runs your server inside the Databricks App container.\"}]]}]]}]]}]]}]}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"c:[\"$\",\"div\",null,{\"className\":\"relative mb-12 bg-white rounded-2xl border-2 border-slate-200 p-8 shadow-sm\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-start gap-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex h-12 w-12 items-center justify-center rounded-full text-lg font-bold text-white shadow-lg flex-shrink-0 bg-gradient-to-br from-sky-500 to-blue-600\",\"children\":2}],[\"$\",\"div\",null,{\"className\":\"flex-1 min-w-0\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-2xl font-bold text-slate-900 mb-6\",\"children\":\"Examine the Simple MCP Server\"}],[\"$\",\"div\",null,{\"className\":\"prose prose-slate max-w-none\",\"children\":[\"$\",\"div\",null,{\"className\":\"space-y-6\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-lg text-slate-700 leading-relaxed\",\"children\":[\"Open \",[\"$\",\"code\",null,{\"className\":\"bg-orange-200 px-1.5 py-0.5 rounded font-mono\",\"children\":\"custom-mcp-template/src/custom_server/app.py\"}],\" and you'll see a clean, minimal MCP server:\"]}],[\"$\",\"$L18\",null,{\"language\":\"python\",\"title\":\"src/custom_server/app.py - Current State\",\"code\":\"from pathlib import Path\\nfrom mcp.server.fastmcp import FastMCP\\nfrom fastapi import FastAPI\\nfrom fastapi.responses import FileResponse\\n\\nSTATIC_DIR = Path(__file__).parent / \\\"static\\\"\\n\\n# Create an MCP server\\nmcp = FastMCP(\\\"Custom MCP Server on Databricks Apps\\\")\\n\\n\\n# Add an addition tool\\n@mcp.tool()\\ndef add(a: int, b: int) -\u003e int:\\n    \\\"\\\"\\\"Add two numbers\\\"\\\"\\\"\\n    return a + b\\n\\n\\n# Add a dynamic greeting resource\\n@mcp.resource(\\\"greeting://{name}\\\")\\ndef get_greeting(name: str) -\u003e str:\\n    \\\"\\\"\\\"Get a personalized greeting\\\"\\\"\\\"\\n    return f\\\"Hello, {name}!\\\"\\n\\n\\nmcp_app = mcp.streamable_http_app()\\n\\napp = FastAPI(\\n    lifespan=lambda _: mcp.session_manager.run(),\\n)\\n\\n\\n@app.get(\\\"/\\\", include_in_schema=False)\\nasync def serve_index():\\n    return FileResponse(STATIC_DIR / \\\"index.html\\\")\\n\\n\\napp.mount(\\\"/\\\", mcp_app)\"}],[\"$\",\"div\",null,{\"className\":\"bg-purple-50 rounded-xl p-6 border-2 border-purple-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-bold text-slate-900 mb-3\",\"children\":\"üìö Understanding the Code\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-2 text-sm text-slate-700\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"code\",null,{\"className\":\"bg-purple-100 px-1 py-0.5 rounded text-xs\",\"children\":\"FastMCP(...)\"}],\" creates the MCP server instance\"]}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"code\",null,{\"className\":\"bg-purple-100 px-1 py-0.5 rounded text-xs\",\"children\":\"@mcp.tool()\"}],\" decorator registers a callable tool\"]}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"code\",null,{\"className\":\"bg-purple-100 px-1 py-0.5 rounded text-xs\",\"children\":\"@mcp.resource(...)\"}],\" registers dynamic resources\"]}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"code\",null,{\"className\":\"bg-purple-100 px-1 py-0.5 rounded text-xs\",\"children\":\"mcp.streamable_http_app()\"}],\" creates HTTP transport\"]}],[\"$\",\"li\",null,{\"children\":\"‚Ä¢ FastAPI app mounts the MCP app and serves static files\"}]]}]]}]]}]}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"d:[\"$\",\"div\",null,{\"className\":\"relative mb-12 bg-white rounded-2xl border-2 border-slate-200 p-8 shadow-sm\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-start gap-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex h-12 w-12 items-center justify-center rounded-full text-lg font-bold text-white shadow-lg flex-shrink-0 bg-gradient-to-br from-sky-500 to-blue-600\",\"children\":3}],[\"$\",\"div\",null,{\"className\":\"flex-1 min-w-0\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-2xl font-bold text-slate-900 mb-6\",\"children\":\"Run Locally\"}],[\"$\",\"div\",null,{\"className\":\"prose prose-slate max-w-none\",\"children\":[\"$\",\"div\",null,{\"className\":\"space-y-6\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-lg text-slate-700 leading-relaxed\",\"children\":[\"Let's run the MCP server locally to see it in action. We'll use \",[\"$\",\"code\",null,{\"className\":\"bg-orange-100 px-1 py-0.5 rounded text-sm\",\"children\":\"uv\"}],\" to manage dependencies and run the server.\"]}],[\"$\",\"div\",null,{\"className\":\"bg-blue-50 rounded-xl p-6 border-2 border-blue-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-bold text-slate-900 mb-3\",\"children\":\"üì¶ First Time? Install UV\"}],[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-700 mb-3\",\"children\":[\"If you don't have \",[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-1 py-0.5 rounded text-xs\",\"children\":\"uv\"}],\" installed yet, run one of these:\"]}],[\"$\",\"$L18\",null,{\"language\":\"bash\",\"code\":\"# macOS/Linux\\ncurl -LsSf https://astral.sh/uv/install.sh | sh\\n\\n# or via Homebrew\\nbrew install uv\\n\\n# or via pip\\npip install uv\"}],[\"$\",\"details\",null,{\"className\":\"mt-3\",\"children\":[[\"$\",\"summary\",null,{\"className\":\"cursor-pointer text-sm font-semibold text-slate-700 hover:text-slate-900\",\"children\":\"What is UV? (click to expand)\"}],[\"$\",\"div\",null,{\"className\":\"mt-2 text-sm text-slate-600 space-y-2\",\"children\":[[\"$\",\"p\",null,{\"children\":\"UV is a fast Python package manager (like pip + virtualenv, but way faster). It handles dependencies and environments automatically.\"}],[\"$\",\"ul\",null,{\"className\":\"ml-4 space-y-1\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-1 py-0.5 rounded text-xs\",\"children\":\"uv sync\"}],\" creates \",[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-1 py-0.5 rounded text-xs\",\"children\":\".venv\"}],\" and installs dependencies\"]}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-1 py-0.5 rounded text-xs\",\"children\":\"uv run\"}],\" runs commands in that environment (no manual activation!)\"]}]]}]]}]]}]]}],[\"$\",\"$L18\",null,{\"language\":\"bash\",\"title\":\"Local Development\",\"code\":\"# Navigate to the template directory\\ncd custom-mcp-template\\n\\n# Install dependencies (creates .venv virtual environment)\\nuv sync\\n\\n# Start the server (with hot-reload)\\nuv run uvicorn custom_server.app:app --reload --host 0.0.0.0 --port 8000\"}],[\"$\",\"div\",null,{\"className\":\"bg-green-50 rounded-lg p-4 border border-green-200\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-sm font-semibold text-slate-900 mb-2\",\"children\":\"‚úÖ Success looks like this:\"}],[\"$\",\"$L18\",null,{\"language\":\"text\",\"code\":\"‚úÖ Loaded prompt: analyze_workspace\\n‚úÖ Loaded prompt: check_clusters\\n‚úÖ Loaded prompt: query_workshop_data\\nüìã Loaded 3 prompt(s) from .../prompts\\nINFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)\\nINFO:     Started reloader process\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-yellow-50 rounded-lg p-4 border border-yellow-200\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-700\",\"children\":[[\"$\",\"strong\",null,{\"children\":[\"üí° Why \",[\"$\",\"code\",null,{\"className\":\"bg-yellow-100 px-1 py-0.5 rounded text-xs\",\"children\":\"uv run\"}],\"?\"]}],\" It automatically uses the virtual environment created by \",[\"$\",\"code\",null,{\"className\":\"bg-yellow-100 px-1 py-0.5 rounded text-xs\",\"children\":\"uv sync\"}],\". No need to manually activate it!\"]}]}],[\"$\",\"div\",null,{\"className\":\"my-6 rounded-xl border-2 border-green/30 bg-green/5 p-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-start gap-4\",\"children\":[\"$L19\",\"$L1a\"]}]}]]}]}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"e:[\"$\",\"div\",null,{\"className\":\"relative mb-12 bg-white rounded-2xl border-2 border-slate-200 p-8 shadow-sm\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-start gap-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex h-12 w-12 items-center justify-center rounded-full text-lg font-bold text-white shadow-lg flex-shrink-0 bg-gradient-to-br from-sky-500 to-blue-600\",\"children\":4}],[\"$\",\"div\",null,{\"className\":\"flex-1 min-w-0\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-2xl font-bold text-slate-900 mb-6\",\"children\":\"Deploy to Databricks Apps\"}],[\"$\",\"div\",null,{\"className\":\"prose prose-slate max-w-none\",\"children\":[\"$\",\"div\",null,{\"className\":\"space-y-6\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-lg text-slate-700 leading-relaxed\",\"children\":\"Now let's deploy this clean MCP server to Databricks Apps. You can use the automated script or deploy manually:\"}],[\"$\",\"div\",null,{\"className\":\"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200 mb-6\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-xl font-bold text-slate-900 mb-3\",\"children\":\"üöÄ Option 1: Automated Deployment (Recommended)\"}],[\"$\",\"p\",null,{\"className\":\"text-slate-700 mb-4\",\"children\":[\"The easiest way to deploy is using the included \",[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-1 py-0.5 rounded text-sm\",\"children\":\"deploy.sh\"}],\" script, which handles everything automatically:\"]}],[\"$\",\"$L18\",null,{\"language\":\"bash\",\"title\":\"Terminal - Automated deployment\",\"code\":\"# Navigate to custom-mcp-template directory\\ncd custom-mcp-template\\n\\n# Load your participant prefix from setup\\nsource ../.env.local\\n\\n# Run the deploy script (builds, deploys, and starts the app)\\n./deploy.sh\\n\\n# The script will:\\n# 1. Build the Python wheel\\n# 2. Deploy to Databricks with your unique prefix\\n# 3. Start the app automatically\\n# 4. Display your MCP connection URL\"}],[\"$\",\"div\",null,{\"className\":\"bg-blue-100 rounded-lg p-3 mt-3\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-700\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"‚ú® The script automatically:\"}],\" Converts underscores to dashes in your prefix, handles authentication, and provides the MCP endpoint URL when done!\"]}]}]]}],[\"$\",\"div\",null,{\"className\":\"bg-slate-50 rounded-xl p-6 border-2 border-slate-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-xl font-bold text-slate-900 mb-3\",\"children\":\"‚öôÔ∏è Option 2: Manual Deployment\"}],[\"$\",\"p\",null,{\"className\":\"text-slate-700 mb-4\",\"children\":\"For more control, you can deploy manually step-by-step:\"}],[\"$\",\"$L18\",null,{\"language\":\"bash\",\"title\":\"Terminal - Manual deployment\",\"code\":\"cd custom-mcp-template\\n\\n# 1. Load your participant prefix\\nsource ../.env.local\\necho \\\"Participant prefix: $PARTICIPANT_PREFIX\\\"\\n\\n# 2. Build the Python wheel\\nuv build --wheel\\n\\n# 3. Deploy with bundle (converts underscores to dashes automatically)\\n# Note: App names can only contain lowercase letters, numbers, and dashes\\nunset DATABRICKS_AUTH_TYPE\\nCLEAN_PREFIX=$(echo \\\"$PARTICIPANT_PREFIX\\\" | tr '_' '-')\\ndatabricks bundle deploy --var=\\\"participant_prefix=$CLEAN_PREFIX\\\"\\n\\n# 4. Start and deploy the app\\ndatabricks bundle run custom-mcp-server --var=\\\"participant_prefix=$CLEAN_PREFIX\\\"\\n\\n# 5. Get the app URL\\ndatabricks apps get \\\"mcp-custom-server-$CLEAN_PREFIX\\\" | grep url\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-yellow-50 rounded-xl p-6 border-2 border-yellow-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-bold text-slate-900 mb-3\",\"children\":\"üîß What Just Happened?\"}],[\"$\",\"ol\",null,{\"className\":\"space-y-2 text-sm text-slate-700 ml-4\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"1. \",[\"$\",\"code\",null,{\"className\":\"bg-yellow-100 px-1 py-0.5 rounded text-xs\",\"children\":\"uv build --wheel\"}],\" packaged your app into a Python wheel\"]}],[\"$\",\"li\",null,{\"children\":[\"2. The build hook created a \",\"$L1b\",\" directory with dependencies\"]}],\"$L1c\",\"$L1d\",\"$L1e\",\"$L1f\"]}]]}],\"$L20\",\"$L21\",\"$L22\"]}]}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"f:[\"$\",\"div\",null,{\"className\":\"relative mb-12 bg-white rounded-2xl border-2 border-slate-200 p-8 shadow-sm\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-start gap-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex h-12 w-12 items-center justify-center rounded-full text-lg font-bold text-white shadow-lg flex-shrink-0 bg-gradient-to-br from-sky-500 to-blue-600\",\"children\":5}],[\"$\",\"div\",null,{\"className\":\"flex-1 min-w-0\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-2xl font-bold text-slate-900 mb-6\",\"children\":\"Examine the Databricks SDK Tools\"}],[\"$\",\"div\",null,{\"className\":\"prose prose-slate max-w-none\",\"children\":[\"$\",\"div\",null,{\"className\":\"space-y-6\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-lg text-slate-700 leading-relaxed\",\"children\":\"Great news! Your MCP server template already includes powerful Databricks SDK tools. Let's examine them to understand the patterns for building MCP tools that query Databricks resources.\"}],[\"$\",\"div\",null,{\"className\":\"bg-purple-50 rounded-xl p-6 border-2 border-purple-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-xl font-bold text-slate-900 mb-4\",\"children\":\"üéØ What You'll Learn\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-2 text-slate-700\",\"children\":[[\"$\",\"li\",null,{\"children\":\"‚Ä¢ How the Databricks SDK is already integrated as a dependency\"}],[\"$\",\"li\",null,{\"children\":\"‚Ä¢ The pattern for creating MCP tools that call Databricks APIs\"}],[\"$\",\"li\",null,{\"children\":\"‚Ä¢ How authentication works (spoiler: it's automatic in Databricks Apps!)\"}],[\"$\",\"li\",null,{\"children\":\"‚Ä¢ Best practices for tool design: clear names, good docstrings, error handling\"}]]}]]}],[\"$\",\"h3\",null,{\"className\":\"text-xl font-bold text-slate-900\",\"children\":\"The Databricks SDK Dependency\"}],[\"$\",\"p\",null,{\"className\":\"text-slate-700\",\"children\":[\"Open \",[\"$\",\"code\",null,{\"className\":\"bg-orange-200 px-1.5 py-0.5 rounded font-mono\",\"children\":\"pyproject.toml\"}],\" and you'll see \",[\"$\",\"code\",null,{\"className\":\"bg-orange-100 px-1 py-0.5 rounded text-sm\",\"children\":\"databricks-sdk\"}],\" already in the dependencies:\"]}],[\"$\",\"$L18\",null,{\"language\":\"toml\",\"title\":\"pyproject.toml - Already configured\",\"code\":\"[project]\\nname = \\\"custom-server\\\"\\nversion = \\\"0.1.0\\\"\\nrequires-python = \\\"\u003e=3.11\\\"\\ndependencies = [\\n    \\\"fastapi\u003e=0.115.12\\\",\\n    \\\"mcp[cli]\u003e=1.10.0\\\",\\n    \\\"uvicorn\u003e=0.34.2\\\",\\n    \\\"databricks-sdk\u003e=0.42.0\\\",  # ‚Üê Already included!\\n]\"}],[\"$\",\"div\",null,{\"className\":\"bg-blue-50 rounded-lg p-4 border border-blue-200\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-700\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"üí° Why this matters:\"}],\" The Databricks SDK provides Python methods for every Databricks API. Instead of making raw HTTP requests, you can just call \",[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-1 py-0.5 rounded text-xs\",\"children\":\"w.clusters.list()\"}],\" or\",[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-1 py-0.5 rounded text-xs\",\"children\":\"w.warehouses.get()\"}],\". Much easier!\"]}]}],[\"$\",\"h3\",null,{\"className\":\"text-xl font-bold text-slate-900 mt-8\",\"children\":\"The Authentication Helper\"}],[\"$\",\"p\",null,{\"className\":\"text-slate-700\",\"children\":[\"In \",[\"$\",\"code\",null,{\"className\":\"bg-orange-200 px-1.5 py-0.5 rounded font-mono\",\"children\":\"src/custom_server/app.py\"}],\", find the \",[\"$\",\"code\",null,{\"className\":\"bg-orange-100 px-1 py-0.5 rounded text-sm\",\"children\":\"get_workspace_client()\"}],\" function:\"]}],[\"$\",\"$L18\",null,{\"language\":\"python\",\"title\":\"src/custom_server/app.py - Authentication helper (lines 34-43)\",\"code\":\"def get_workspace_client() -\u003e WorkspaceClient:\\n    \\\"\\\"\\\"Get an authenticated Databricks workspace client.\\n    \\n    This uses environment variables or Databricks Apps authentication.\\n    In Databricks Apps, authentication is handled automatically!\\n    \\\"\\\"\\\"\\n    return WorkspaceClient(\\n        host=os.environ.get('DATABRICKS_HOST'),\\n        token=os.environ.get('DATABRICKS_TOKEN')\\n    )\"}],\"$L23\",\"$L24\",\"$L25\",\"$L26\",\"$L27\",\"$L28\"]}]}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"29:T42b,"])</script><script>self.__next_f.push([1,"@mcp.tool()\ndef list_warehouses() -\u003e dict:\n    \"\"\"List all SQL warehouses in the Databricks workspace.\n    \n    Returns:\n        Dictionary with warehouse information including ID, name, state, size, and type\n    \n    Example:\n        list_warehouses() -\u003e Shows all SQL warehouses in your workspace\n    \"\"\"\n    try:\n        w = get_workspace_client()\n        warehouses = []\n        \n        for warehouse in w.warehouses.list():\n            warehouses.append({\n                'id': warehouse.id,\n                'name': warehouse.name,\n                'state': warehouse.state.value if warehouse.state else 'UNKNOWN',\n                'size': warehouse.cluster_size,\n                'type': warehouse.warehouse_type.value if warehouse.warehouse_type else 'UNKNOWN',\n            })\n        \n        return {\n            'success': True,\n            'warehouses': warehouses,\n            'count': len(warehouses),\n            'message': f'Found {len(warehouses)} SQL warehouse(s)'\n        }\n    except Exception as e:\n        return {'success': False, 'error': str(e)}"])</script><script>self.__next_f.push([1,"2a:T848,"])</script><script>self.__next_f.push([1,"@mcp.tool()\ndef execute_dbsql(\n    query: str,\n    warehouse_id: str = None,\n    limit: int = 100,\n) -\u003e dict:\n    \"\"\"Execute a SQL query on a Databricks SQL warehouse.\n    \n    Args:\n        query: SQL query to execute (e.g., \"SELECT * FROM main.default.sales LIMIT 10\")\n        warehouse_id: SQL warehouse ID (uses DATABRICKS_SQL_WAREHOUSE_ID env var if not provided)\n        limit: Maximum rows to return (default: 100)\n    \n    Returns:\n        Dictionary with query results including columns and rows\n    \n    Example:\n        execute_dbsql(\"SHOW DATABASES\", warehouse_id=\"abc123def456\")\n    \"\"\"\n    try:\n        w = get_workspace_client()\n        \n        # Get warehouse ID from parameter or environment variable\n        warehouse_id = warehouse_id or os.environ.get('DATABRICKS_SQL_WAREHOUSE_ID')\n        if not warehouse_id:\n            return {\n                'success': False,\n                'error': 'No SQL warehouse ID provided. Set DATABRICKS_SQL_WAREHOUSE_ID environment variable or pass warehouse_id parameter.'\n            }\n        \n        # Execute the query\n        result = w.statement_execution.execute_statement(\n            warehouse_id=warehouse_id,\n            statement=query,\n            wait_timeout='30s'\n        )\n        \n        # Process results\n        if result.result and result.result.data_array:\n            columns = [col.name for col in result.manifest.schema.columns]\n            data = []\n            \n            for row in result.result.data_array[:limit]:\n                row_dict = {}\n                for i, col in enumerate(columns):\n                    row_dict[col] = row[i]\n                data.append(row_dict)\n            \n            return {\n                'success': True,\n                'data': {'columns': columns, 'rows': data},\n                'row_count': len(data)\n            }\n        else:\n            return {\n                'success': True,\n                'data': {'message': 'Query executed successfully with no results'},\n                'row_count': 0\n            }\n    except Exception as e:\n        return {'success': False, 'error': str(e)}"])</script><script>self.__next_f.push([1,"10:[\"$\",\"div\",null,{\"className\":\"relative mb-12 bg-white rounded-2xl border-2 border-slate-200 p-8 shadow-sm\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-start gap-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex h-12 w-12 items-center justify-center rounded-full text-lg font-bold text-white shadow-lg flex-shrink-0 bg-gradient-to-br from-sky-500 to-blue-600\",\"children\":6}],[\"$\",\"div\",null,{\"className\":\"flex-1 min-w-0\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-2xl font-bold text-slate-900 mb-6\",\"children\":\"Understand the SQL Tools\"}],[\"$\",\"div\",null,{\"className\":\"prose prose-slate max-w-none\",\"children\":[\"$\",\"div\",null,{\"className\":\"space-y-6\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-lg text-slate-700 leading-relaxed\",\"children\":\"Now let's examine two more powerful tools already in your MCP server: one that lists SQL warehouses and another that executes SQL queries. These show you how MCP tools can interact with Databricks' data layer.\"}],[\"$\",\"h3\",null,{\"className\":\"text-xl font-bold text-slate-900\",\"children\":\"Tool 2: list_warehouses\"}],[\"$\",\"p\",null,{\"className\":\"text-slate-700 mb-4\",\"children\":[\"Find this tool in \",[\"$\",\"code\",null,{\"className\":\"bg-orange-200 px-1.5 py-0.5 rounded font-mono\",\"children\":\"app.py\"}],\" (around line 84):\"]}],[\"$\",\"$L18\",null,{\"language\":\"python\",\"title\":\"src/custom_server/app.py - Examine this tool (lines 84-113)\",\"code\":\"$29\"}],[\"$\",\"div\",null,{\"className\":\"bg-blue-50 rounded-lg p-4 border border-blue-200\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-700\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"üí° Notice:\"}],\" This follows the same pattern as \",[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-1 py-0.5 rounded text-xs\",\"children\":\"list_clusters\"}],\", but uses \",[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-1 py-0.5 rounded text-xs\",\"children\":\"w.warehouses.list()\"}],\" instead. The SDK makes it easy to query different Databricks resources with consistent APIs!\"]}]}],[\"$\",\"h3\",null,{\"className\":\"text-xl font-bold text-slate-900 mt-8\",\"children\":\"Tool 3: execute_dbsql\"}],[\"$\",\"p\",null,{\"className\":\"text-slate-700 mb-4\",\"children\":[\"This is the most powerful tool - it lets AI assistants query your data! Find it in \",[\"$\",\"code\",null,{\"className\":\"bg-orange-200 px-1.5 py-0.5 rounded font-mono\",\"children\":\"app.py\"}],\" (around line 117):\"]}],[\"$\",\"$L18\",null,{\"language\":\"python\",\"title\":\"src/custom_server/app.py - Examine this tool (lines 117-176)\",\"code\":\"$2a\"}],\"$L2b\",\"$L2c\"]}]}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"11:[\"$\",\"div\",null,{\"className\":\"relative mb-12 bg-white rounded-2xl border-2 border-slate-200 p-8 shadow-sm\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-start gap-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex h-12 w-12 items-center justify-center rounded-full text-lg font-bold text-white shadow-lg flex-shrink-0 bg-gradient-to-br from-sky-500 to-blue-600\",\"children\":7}],[\"$\",\"div\",null,{\"className\":\"flex-1 min-w-0\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-2xl font-bold text-slate-900 mb-6\",\"children\":\"Build Your Own Tool: Unity Catalog Integration\"}],[\"$\",\"div\",null,{\"className\":\"prose prose-slate max-w-none\",\"children\":[\"$\",\"div\",null,{\"className\":\"space-y-6\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-lg text-slate-700 leading-relaxed\",\"children\":[\"Time to get your hands dirty! You'll now \",[\"$\",\"strong\",null,{\"children\":\"build your own MCP tool from scratch\"}],\" that connects to Unity Catalog, Databricks' data governance layer. This tool will explore the catalog structure created during your workshop setup.\"]}],[\"$\",\"div\",null,{\"className\":\"bg-orange-50 rounded-xl p-6 border-2 border-orange-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-bold text-slate-900 mb-3\",\"children\":\"üéØ Your Task\"}],[\"$\",\"p\",null,{\"className\":\"text-slate-700 mb-3\",\"children\":[\"You've examined existing tools. Now \",[\"$\",\"strong\",null,{\"children\":\"you'll write the code yourself\"}],\" for a \",[\"$\",\"code\",null,{\"className\":\"bg-orange-100 px-1 py-0.5 rounded text-sm\",\"children\":\"list_schemas\"}],\" tool that queries your workshop catalog.\"]}],[\"$\",\"ul\",null,{\"className\":\"space-y-2 text-slate-700\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ ‚úçÔ∏è Add the tool code to \",[\"$\",\"code\",null,{\"className\":\"bg-orange-100 px-1 py-0.5 rounded text-sm\",\"children\":\"app.py\"}]]}],[\"$\",\"li\",null,{\"children\":\"‚Ä¢ üß™ Test it locally with your workshop catalog\"}],[\"$\",\"li\",null,{\"children\":\"‚Ä¢ üìä See it discover the schemas you created during setup\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"bg-purple-50 rounded-xl p-6 border-2 border-purple-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-xl font-bold text-slate-900 mb-4\",\"children\":\"üéì Understanding Unity Catalog\"}],[\"$\",\"p\",null,{\"className\":\"text-slate-700 mb-4\",\"children\":[\"Unity Catalog organizes data in a \",[\"$\",\"strong\",null,{\"children\":\"3-level namespace\"}],\":\"]}],[\"$\",\"div\",null,{\"className\":\"bg-white rounded-lg p-4 border border-purple-200 mb-4\",\"children\":[\"$\",\"code\",null,{\"className\":\"text-sm font-mono\",\"children\":\"catalog.schema.table\"}]}],[\"$\",\"ul\",null,{\"className\":\"space-y-2 text-slate-700\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"strong\",null,{\"children\":\"Catalog\"}],\": Top-level container (e.g., \",[\"$\",\"code\",null,{\"className\":\"bg-purple-100 px-1 py-0.5 rounded text-sm\",\"children\":\"mcp_workshop_john_doe\"}],\")\"]}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"strong\",null,{\"children\":\"Schema\"}],\": Database within a catalog (e.g., \",[\"$\",\"code\",null,{\"className\":\"bg-purple-100 px-1 py-0.5 rounded text-sm\",\"children\":\"default\"}],\")\"]}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"strong\",null,{\"children\":\"Table\"}],\": Actual data tables (e.g., \",[\"$\",\"code\",null,{\"className\":\"bg-purple-100 px-1 py-0.5 rounded text-sm\",\"children\":\"products\"}],\", \",[\"$\",\"code\",null,{\"className\":\"bg-purple-100 px-1 py-0.5 rounded text-sm\",\"children\":\"sales\"}],\")\"]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"bg-blue-50 rounded-xl p-6 border-2 border-blue-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-bold text-slate-900 mb-3\",\"children\":\"üîó Connecting to Your Workshop Setup\"}],[\"$\",\"p\",null,{\"className\":\"text-slate-700 mb-3\",\"children\":[\"Remember when you ran \",[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-1 py-0.5 rounded text-sm\",\"children\":\"./setup.sh\"}],\"? It created your personal catalog!\"]}],[\"$\",\"div\",null,{\"className\":\"bg-white rounded-lg p-4 border border-blue-200 font-mono text-sm\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-slate-600\",\"children\":\"Your Workshop Resources:\"}],[\"$\",\"div\",null,{\"className\":\"mt-2 ml-2\",\"children\":[[\"$\",\"div\",null,{\"children\":[\"üìÅ \",[\"$\",\"strong\",null,{\"children\":\"mcp_workshop_\u003cyour_prefix\u003e\"}],\" (catalog)\"]}],[\"$\",\"div\",null,{\"className\":\"ml-4\",\"children\":[\"‚îî‚îÄ‚îÄ üìÇ \",\"$L2d\",\" (schema)\"]}],\"$L2e\",\"$L2f\",\"$L30\"]}]]}],\"$L31\"]}],\"$L32\",\"$L33\",\"$L34\",\"$L35\",\"$L36\",\"$L37\",\"$L38\",\"$L39\",\"$L3a\",\"$L3b\",\"$L3c\",\"$L3d\"]}]}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"12:[\"$\",\"div\",null,{\"className\":\"relative mb-12 bg-white rounded-2xl border-2 border-slate-200 p-8 shadow-sm\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-start gap-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex h-12 w-12 items-center justify-center rounded-full text-lg font-bold text-white shadow-lg flex-shrink-0 bg-gradient-to-br from-sky-500 to-blue-600\",\"children\":8}],[\"$\",\"div\",null,{\"className\":\"flex-1 min-w-0\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-2xl font-bold text-slate-900 mb-6\",\"children\":\"Deploy Your Enhanced MCP Server\"}],[\"$\",\"div\",null,{\"className\":\"prose prose-slate max-w-none\",\"children\":[\"$\",\"div\",null,{\"className\":\"space-y-6\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-lg text-slate-700 leading-relaxed\",\"children\":[\"Great work adding the \",[\"$\",\"code\",null,{\"className\":\"bg-orange-100 px-1 py-0.5 rounded text-sm\",\"children\":\"list_schemas\"}],\" tool! Now let's deploy your enhanced MCP server with this new Unity Catalog integration.\"]}],[\"$\",\"div\",null,{\"className\":\"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border-2 border-green-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-xl font-bold text-slate-900 mb-3\",\"children\":\"üéØ What You're Deploying\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-2 text-slate-700\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ Your custom MCP server with the new \",[\"$\",\"code\",null,{\"className\":\"bg-green-100 px-1 py-0.5 rounded text-xs\",\"children\":\"list_schemas\"}],\" tool\"]}],[\"$\",\"li\",null,{\"children\":\"‚Ä¢ Packaged as a Python wheel and uploaded to Databricks\"}],[\"$\",\"li\",null,{\"children\":\"‚Ä¢ Running 24/7 as a Databricks App with HTTPS endpoint\"}],[\"$\",\"li\",null,{\"children\":\"‚Ä¢ Ready for AI assistants to discover and query your Unity Catalog data\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200 mb-6\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-xl font-bold text-slate-900 mb-3\",\"children\":\"üöÄ Option 1: Automated Deployment (Recommended)\"}],[\"$\",\"p\",null,{\"className\":\"text-slate-700 mb-4\",\"children\":[\"Use the \",[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-1 py-0.5 rounded text-sm\",\"children\":\"deploy.sh\"}],\" script for a fully automated deployment:\"]}],[\"$\",\"$L18\",null,{\"language\":\"bash\",\"title\":\"Terminal - Automated deployment\",\"code\":\"cd custom-mcp-template\\n\\n# Load your participant prefix\\nsource ../.env.local\\n\\n# Run the deploy script\\n./deploy.sh\\n\\n# The script automatically:\\n# 1. Builds the Python wheel with your new tool\\n# 2. Converts underscores to dashes in your prefix\\n# 3. Deploys to Databricks with proper authentication\\n# 4. Starts the app\\n# 5. Displays your MCP connection URL\"}],[\"$\",\"div\",null,{\"className\":\"bg-blue-100 rounded-lg p-3 mt-3\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-700\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"‚ú® After deployment:\"}],\" The script will show your MCP endpoint URL. Copy it - you'll use it to connect AI assistants in the next section!\"]}]}]]}],[\"$\",\"div\",null,{\"className\":\"bg-slate-50 rounded-xl p-6 border-2 border-slate-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-xl font-bold text-slate-900 mb-3\",\"children\":\"‚öôÔ∏è Option 2: Manual Deployment\"}],[\"$\",\"p\",null,{\"className\":\"text-slate-700 mb-4\",\"children\":\"For more control or if you want to understand each step:\"}],[\"$\",\"$L18\",null,{\"language\":\"bash\",\"title\":\"Terminal - Manual deployment\",\"code\":\"cd custom-mcp-template\\n\\n# 1. Load your participant prefix\\nsource ../.env.local\\n\\n# 2. Build the Python wheel\\nuv build --wheel\\n\\n# 3. Convert prefix (app names need dashes, not underscores)\\nCLEAN_PREFIX=$(echo \\\"$PARTICIPANT_PREFIX\\\" | tr '_' '-')\\necho \\\"Deploying as: mcp-custom-server-$CLEAN_PREFIX\\\"\\n\\n# 4. Deploy with bundle\\nunset DATABRICKS_AUTH_TYPE\\ndatabricks bundle deploy --var=\\\"participant_prefix=$CLEAN_PREFIX\\\"\\n\\n# 5. Start and deploy the app\\ndatabricks bundle run custom-mcp-server --var=\\\"participant_prefix=$CLEAN_PREFIX\\\"\\n\\n# 6. Get the MCP endpoint URL\\ndatabricks apps get \\\"mcp-custom-server-$CLEAN_PREFIX\\\" | grep url\"}]]}],\"$L3e\",\"$L3f\",\"$L40\",\"$L41\",\"$L42\"]}]}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"13:[\"$\",\"div\",null,{\"className\":\"relative mb-12 bg-white rounded-2xl border-2 border-slate-200 p-8 shadow-sm\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-start gap-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex h-12 w-12 items-center justify-center rounded-full text-lg font-bold text-white shadow-lg flex-shrink-0 bg-gradient-to-br from-sky-500 to-blue-600\",\"children\":9}],[\"$\",\"div\",null,{\"className\":\"flex-1 min-w-0\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-2xl font-bold text-slate-900 mb-6\",\"children\":\"What You Built\"}],[\"$\",\"div\",null,{\"className\":\"prose prose-slate max-w-none\",\"children\":[\"$\",\"div\",null,{\"className\":\"space-y-6\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-lg text-slate-700 leading-relaxed\",\"children\":\"Congratulations! You've built a production-ready MCP server. Let's recap what you learned:\"}],[\"$\",\"div\",null,{\"className\":\"grid md:grid-cols-2 gap-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"bg-white rounded-xl p-6 border-2 border-slate-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-xl font-bold text-slate-900 mb-3\",\"children\":\"‚úÖ What You Learned\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-2 text-sm text-slate-700\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ The \",[\"$\",\"code\",null,{\"className\":\"bg-slate-100 px-1 py-0.5 rounded text-xs\",\"children\":\"@mcp.tool()\"}],\" decorator pattern\"]}],[\"$\",\"li\",null,{\"children\":\"‚Ä¢ How to integrate Databricks SDK\"}],[\"$\",\"li\",null,{\"children\":\"‚Ä¢ Authentication with WorkspaceClient\"}],[\"$\",\"li\",null,{\"children\":\"‚Ä¢ Error handling and structured responses\"}],[\"$\",\"li\",null,{\"children\":\"‚Ä¢ Building MCP tools that query Databricks\"}]]}],[\"$\",\"div\",null,{\"className\":\"mt-4 pt-4 border-t border-slate-200\",\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-bold text-slate-900 mb-2\",\"children\":\"üõ†Ô∏è Tools You Built:\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 text-sm text-slate-700\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"code\",null,{\"className\":\"bg-slate-100 px-1 py-0.5 rounded text-xs\",\"children\":\"list_clusters\"}],\" - Query compute resources\"]}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"code\",null,{\"className\":\"bg-slate-100 px-1 py-0.5 rounded text-xs\",\"children\":\"list_warehouses\"}],\" - Discover SQL endpoints\"]}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"code\",null,{\"className\":\"bg-slate-100 px-1 py-0.5 rounded text-xs\",\"children\":\"execute_dbsql\"}],\" - Run SQL queries\"]}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"code\",null,{\"className\":\"bg-slate-100 px-1 py-0.5 rounded text-xs\",\"children\":\"list_schemas\"}],\" - Explore Unity Catalog structure\"]}]]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"bg-white rounded-xl p-6 border-2 border-slate-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-xl font-bold text-slate-900 mb-3\",\"children\":\"üìñ Why This Approach?\"}],[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-700 mb-3\",\"children\":[\"By starting with the \",[\"$\",\"strong\",null,{\"children\":\"clean databrickslabs template\"}],\", you understand:\"]}],[\"$\",\"ul\",null,{\"className\":\"space-y-2 text-sm text-slate-700\",\"children\":[[\"$\",\"li\",null,{\"children\":\"‚Ä¢ The core MCP server pattern\"}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ How \",[\"$\",\"code\",null,{\"className\":\"bg-slate-100 px-1 py-0.5 rounded text-xs\",\"children\":\"@mcp.tool()\"}],\" works\"]}],[\"$\",\"li\",null,{\"children\":\"‚Ä¢ Databricks Apps deployment basics\"}],[\"$\",\"li\",null,{\"children\":\"‚Ä¢ What each file does\"}]]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-6 border-2 border-orange-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-bold text-slate-900 mb-3\",\"children\":\"üöÄ Ready to Continue?\"}],[\"$\",\"p\",null,{\"className\":\"text-slate-700 mb-4\",\"children\":\"The next steps will build on this foundation by adding Databricks SDK integration, custom prompts, and helper scripts.\"}],[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-600\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Coming up next:\"}],\" We'll add the Databricks SDK to query clusters, run SQL, and access Unity Catalog!\"]}]]}]]}]}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"14:[\"$\",\"div\",null,{\"className\":\"mt-16 p-8 rounded-2xl border-2 border-slate-200 bg-slate-50\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-2xl font-bold text-slate-900 mb-6\",\"children\":\"üìö Resources\"}],[\"$\",\"div\",null,{\"className\":\"grid md:grid-cols-3 gap-4\",\"children\":[[\"$\",\"a\",null,{\"href\":\"https://github.com/databrickslabs/mcp\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"inline-flex items-center gap-2 rounded-lg border-2 border-slate-300 bg-white px-6 py-3 text-base font-bold text-slate-700 hover:bg-slate-50 transition-colors\",\"children\":[\"databrickslabs/mcp\",[\"$\",\"svg\",null,{\"className\":\"h-5 w-5\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"viewBox\":\"0 0 24 24\",\"children\":[\"$\",\"path\",null,{\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"d\":\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"}]}]]}],[\"$\",\"a\",null,{\"href\":\"https://fastmcp.org/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"inline-flex items-center gap-2 rounded-lg border-2 border-slate-300 bg-white px-6 py-3 text-base font-bold text-slate-700 hover:bg-slate-50 transition-colors\",\"children\":[\"FastMCP Docs\",[\"$\",\"svg\",null,{\"className\":\"h-5 w-5\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"viewBox\":\"0 0 24 24\",\"children\":[\"$\",\"path\",null,{\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"d\":\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"}]}]]}],[\"$\",\"a\",null,{\"href\":\"https://modelcontextprotocol.io/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"inline-flex items-center gap-2 rounded-lg border-2 border-slate-300 bg-white px-6 py-3 text-base font-bold text-slate-700 hover:bg-slate-50 transition-colors\",\"children\":[\"MCP Spec\",[\"$\",\"svg\",null,{\"className\":\"h-5 w-5\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"viewBox\":\"0 0 24 24\",\"children\":[\"$\",\"path\",null,{\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"d\":\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"}]}]]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"15:[\"$\",\"$L43\",null,{\"children\":[\"$L44\",[\"$\",\"$L45\",null,{\"promise\":\"$@46\"}]]}]\n16:[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$L47\",null,{\"children\":\"$L48\"}],null],[\"$\",\"$L49\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$4a\",null,{\"fallback\":null,\"children\":\"$L4b\"}]}]}]]}]\n"])</script><script>self.__next_f.push([1,"19:[\"$\",\"div\",null,{\"className\":\"flex h-8 w-8 items-center justify-center rounded-lg text-lg flex-shrink-0 bg-green/10 text-green\",\"children\":\"‚úÖ\"}]\n1a:[\"$\",\"div\",null,{\"className\":\"flex-1 min-w-0\",\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-bold mb-3 text-lg text-green\",\"children\":\"Test It Out\"}],[\"$\",\"div\",null,{\"className\":\"leading-relaxed text-dark-navy\",\"children\":[[\"$\",\"p\",null,{\"className\":\"mb-2\",\"children\":[\"Open \",[\"$\",\"strong\",null,{\"children\":\"http://localhost:8000\"}],\" in your browser to see the landing page.\"]}],[\"$\",\"p\",null,{\"className\":\"text-sm\",\"children\":[\"The MCP endpoint at \",[\"$\",\"code\",null,{\"className\":\"bg-emerald-100 px-1 py-0.5 rounded text-xs\",\"children\":\"/mcp/\"}],\" is ready to accept MCP protocol requests!\"]}]]}]]}]\n1b:[\"$\",\"code\",null,{\"className\":\"bg-yellow-100 px-1 py-0.5 rounded text-xs\",\"children\":\".build/\"}]\n1c:[\"$\",\"li\",null,{\"children\":\"3. Your participant prefix was cleaned (underscores ‚Üí dashes) for app naming\"}]\n1d:[\"$\",\"li\",null,{\"children\":[\"4. \",[\"$\",\"code\",null,{\"className\":\"bg-yellow-100 px-1 py-0.5 rounded text-xs\",\"children\":\"databricks bundle deploy\"}],\" created your app with unique name\"]}]\n1e:[\"$\",\"li\",null,{\"children\":[\"5. \",[\"$\",\"code\",null,{\"className\":\"bg-yellow-100 px-1 py-0.5 rounded text-xs\",\"children\":\"databricks bundle run\"}],\" started the app and deployed the code\"]}]\n1f:[\"$\",\"li\",null,{\"children\":\"6. Your MCP server is now running 24/7 as a Databricks App!\"}]\n"])</script><script>self.__next_f.push([1,"20:[\"$\",\"div\",null,{\"className\":\"bg-red-50 rounded-xl p-6 border-2 border-red-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-bold text-slate-900 mb-3\",\"children\":\"‚ö†Ô∏è Troubleshooting Common Issues\"}],[\"$\",\"div\",null,{\"className\":\"space-y-4 text-sm text-slate-700\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"font-bold\",\"children\":\"Error: \\\"auth type 'profile' not found\\\"\"}],[\"$\",\"p\",null,{\"children\":\"Your environment has conflicting auth settings. Always unset DATABRICKS_AUTH_TYPE before deploying:\"}],[\"$\",\"code\",null,{\"className\":\"bg-red-100 px-2 py-1 rounded text-xs block mt-1\",\"children\":\"unset DATABRICKS_AUTH_TYPE \u0026\u0026 databricks bundle deploy ...\"}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"font-bold\",\"children\":\"Error: \\\"App name must contain only lowercase letters, numbers, and dashes\\\"\"}],[\"$\",\"p\",null,{\"children\":\"Your prefix contains underscores. The deploy script handles this automatically, or manually convert:\"}],[\"$\",\"code\",null,{\"className\":\"bg-red-100 px-2 py-1 rounded text-xs block mt-1\",\"children\":\"CLEAN_PREFIX=$(echo \\\"$PARTICIPANT_PREFIX\\\" | tr '_' '-')\"}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"font-bold\",\"children\":\"Error: \\\"App does not exist or is deleted\\\"\"}],[\"$\",\"p\",null,{\"children\":\"Stale Terraform state. Clear it and redeploy:\"}],[\"$\",\"code\",null,{\"className\":\"bg-red-100 px-2 py-1 rounded text-xs block mt-1\",\"children\":\"rm -rf .databricks \u0026\u0026 ./deploy.sh\"}]]}]]}],[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-600 mt-4\",\"children\":[\"üí° See \",[\"$\",\"code\",null,{\"className\":\"bg-red-100 px-1 py-0.5 rounded text-xs\",\"children\":\"README.md\"}],\" for detailed troubleshooting steps.\"]}]]}]\n"])</script><script>self.__next_f.push([1,"21:[\"$\",\"div\",null,{\"className\":\"bg-green-50 rounded-xl p-6 border-2 border-green-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-bold text-slate-900 mb-3\",\"children\":\"‚úÖ Deployment Success\"}],[\"$\",\"p\",null,{\"className\":\"text-slate-700 mb-3\",\"children\":\"After deployment completes, you'll see:\"}],[\"$\",\"$L18\",null,{\"language\":\"text\",\"code\":\"‚úÖ App started successfully!\\n\\nüìã App Details:\\n  Name: mcp-custom-server-your-prefix\\n  URL: https://mcp-custom-server-your-prefix-xxxxx.aws.databricksapps.com/mcp/\\n\\nüîó MCP Connection URL (use this in AI assistants):\\n  https://mcp-custom-server-your-prefix-xxxxx.aws.databricksapps.com/mcp/\"}],[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-600 mt-3\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Save that MCP URL!\"}],\" You'll use it to connect Claude Desktop, Cursor IDE, or other AI assistants.\"]}]]}]\n"])</script><script>self.__next_f.push([1,"22:[\"$\",\"div\",null,{\"className\":\"bg-blue-50 rounded-xl p-6 border-2 border-blue-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-bold text-slate-900 mb-3\",\"children\":\"üí° Local vs Production: Different Commands\"}],[\"$\",\"div\",null,{\"className\":\"space-y-3 text-sm text-slate-700\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"font-bold\",\"children\":\"Local Development (uses UV):\"}],[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-2 py-1 rounded text-xs block mt-1\",\"children\":\"uv run uvicorn custom_server.app:app --reload\"}],[\"$\",\"p\",null,{\"className\":\"text-xs mt-1 text-slate-600\",\"children\":\"UV manages the virtual environment and dependencies for you locally.\"}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"font-bold\",\"children\":\"Production on Databricks Apps (no UV needed):\"}],[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-2 py-1 rounded text-xs block mt-1\",\"children\":\"uvicorn custom_server.app:app --host 0.0.0.0 --port 8000\"}],[\"$\",\"p\",null,{\"className\":\"text-xs mt-1 text-slate-600\",\"children\":[\"Dependencies are already installed from the wheel. This is configured in \",[\"$\",\"code\",null,{\"className\":\"bg-blue-50 px-1 rounded\",\"children\":\"app.yaml\"}],\".\"]}]]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"23:[\"$\",\"div\",null,{\"className\":\"bg-green-50 rounded-lg p-4 border border-green-200\",\"children\":[[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-700 mb-2\",\"children\":[\"$\",\"strong\",null,{\"children\":\"üîê Authentication Magic:\"}]}],[\"$\",\"ul\",null,{\"className\":\"text-sm text-slate-700 space-y-1 ml-4\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"strong\",null,{\"children\":\"In Databricks Apps:\"}],\" Environment variables are set automatically - no config needed!\"]}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"strong\",null,{\"children\":\"Local development:\"}],\" Set DATABRICKS_HOST and DATABRICKS_TOKEN in your terminal\"]}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"strong\",null,{\"children\":\"The SDK handles:\"}],\" Token refresh, retries, rate limiting - all transparent to you\"]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"24:[\"$\",\"h3\",null,{\"className\":\"text-xl font-bold text-slate-900 mt-8\",\"children\":\"Example Tool: list_clusters\"}]\n25:[\"$\",\"p\",null,{\"className\":\"text-slate-700\",\"children\":[\"Scroll down in \",[\"$\",\"code\",null,{\"className\":\"bg-orange-200 px-1.5 py-0.5 rounded font-mono\",\"children\":\"app.py\"}],\" to see the \",[\"$\",\"code\",null,{\"className\":\"bg-orange-100 px-1 py-0.5 rounded text-sm\",\"children\":\"list_clusters\"}],\" tool (around line 46):\"]}]\n4c:T4af,"])</script><script>self.__next_f.push([1,"@mcp.tool()\ndef list_clusters(status: str = \"RUNNING\") -\u003e dict:\n    \"\"\"List Databricks compute clusters filtered by status.\n    \n    Args:\n        status: Filter by cluster state (RUNNING, TERMINATED, PENDING, etc.)\n    \n    Returns:\n        Dictionary with cluster information including ID, name, state, and specs\n    \n    Example:\n        list_clusters(\"RUNNING\") -\u003e Shows all currently running clusters\n    \"\"\"\n    try:\n        w = get_workspace_client()\n        clusters = []\n        \n        for cluster in w.clusters.list():\n            if cluster.state and cluster.state.name == status:\n                clusters.append({\n                    \"id\": cluster.cluster_id,\n                    \"name\": cluster.cluster_name,\n                    \"state\": cluster.state.name,\n                    \"spark_version\": cluster.spark_version,\n                    \"node_type\": cluster.node_type_id,\n                })\n        \n        return {\n            \"success\": True,\n            \"clusters\": clusters,\n            \"count\": len(clusters),\n            \"message\": f\"Found {len(clusters)} cluster(s) with status {status}\"\n        }\n    except Exception as e:\n        return {\"success\": False, \"error\": str(e)}"])</script><script>self.__next_f.push([1,"26:[\"$\",\"$L18\",null,{\"language\":\"python\",\"title\":\"src/custom_server/app.py - Examine this tool (lines 46-80)\",\"code\":\"$4c\"}]\n"])</script><script>self.__next_f.push([1,"27:[\"$\",\"div\",null,{\"className\":\"bg-yellow-50 rounded-xl p-6 border-2 border-yellow-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-bold text-slate-900 mb-3\",\"children\":\"üéì Understanding the MCP Tool Pattern\"}],[\"$\",\"div\",null,{\"className\":\"space-y-3 text-sm text-slate-700\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"font-bold\",\"children\":\"@mcp.tool() decorator\"}],[\"$\",\"p\",null,{\"children\":\"Tells FastMCP \\\"this function is a tool that AI assistants can call\\\"\"}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"font-bold\",\"children\":\"Detailed docstring\"}],[\"$\",\"p\",null,{\"children\":\"The AI sees this! It helps the AI understand WHEN and HOW to use your tool. Be descriptive!\"}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"font-bold\",\"children\":[\"Type hints (status: str, \",\"-\u003e\",\" dict)\"]}],[\"$\",\"p\",null,{\"children\":\"MCP uses these to validate inputs and describe outputs. Always include them!\"}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"font-bold\",\"children\":\"Try/except error handling\"}],[\"$\",\"p\",null,{\"children\":[\"Returns \",[\"$\",\"code\",null,{\"className\":\"bg-yellow-100 px-1 py-0.5 rounded text-xs\",\"children\":\"{\\\"success\\\": false, \\\"error\\\": \\\"...\\\"}\"}],\" instead of crashing. The AI can handle errors gracefully.\"]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"font-bold\",\"children\":\"Structured return data\"}],[\"$\",\"p\",null,{\"children\":\"Returns dictionaries with clear fields. Makes it easy for AI to parse and present results.\"}]]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"28:[\"$\",\"div\",null,{\"className\":\"my-6 rounded-xl border-2 border-teal/30 bg-teal/5 p-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-start gap-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex h-8 w-8 items-center justify-center rounded-lg text-lg flex-shrink-0 bg-teal/10 text-teal\",\"children\":\"‚ÑπÔ∏è\"}],[\"$\",\"div\",null,{\"className\":\"flex-1 min-w-0\",\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-bold mb-3 text-lg text-teal\",\"children\":\"Key Takeaway\"}],[\"$\",\"div\",null,{\"className\":\"leading-relaxed text-dark-navy\",\"children\":[[\"$\",\"p\",null,{\"className\":\"mb-2\",\"children\":\"Notice the pattern: Every MCP tool in this server follows the same structure:\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4 text-sm\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"1. \",[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-1 py-0.5 rounded text-xs\",\"children\":\"@mcp.tool()\"}],\" decorator\"]}],[\"$\",\"li\",null,{\"children\":\"2. Clear docstring explaining what it does\"}],[\"$\",\"li\",null,{\"children\":[\"3. Get authenticated client with \",[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-1 py-0.5 rounded text-xs\",\"children\":\"get_workspace_client()\"}]]}],[\"$\",\"li\",null,{\"children\":\"4. Call Databricks SDK methods\"}],[\"$\",\"li\",null,{\"children\":\"5. Return structured data with success/error handling\"}]]}],[\"$\",\"p\",null,{\"className\":\"text-sm mt-3\",\"children\":\"You'll use this exact pattern when building your own tool in Step 7!\"}]]}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"2b:[\"$\",\"div\",null,{\"className\":\"bg-red-50 rounded-xl p-6 border-2 border-red-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-bold text-red-900 mb-3\",\"children\":\"‚ö†Ô∏è Security Note: SQL Tool Design\"}],[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-700 mb-3\",\"children\":\"Notice how this tool is designed with safety in mind:\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-2 text-sm text-slate-700\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"strong\",null,{\"children\":\"Row limit:\"}],\" Default limit of 100 rows prevents accidentally returning huge datasets\"]}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"strong\",null,{\"children\":\"Timeout:\"}],\" 30-second timeout prevents queries from running forever\"]}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"strong\",null,{\"children\":\"Error handling:\"}],\" Returns errors as structured data instead of crashing\"]}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"strong\",null,{\"children\":\"Unity Catalog permissions:\"}],\" The query respects the user's existing Databricks permissions\"]}]]}],[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-700 mt-3\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"Pro tip:\"}],\" In production, consider adding query validation, logging, and rate limiting!\"]}]]}]\n"])</script><script>self.__next_f.push([1,"2c:[\"$\",\"div\",null,{\"className\":\"bg-green-50 rounded-xl p-6 border-2 border-green-200 mt-6\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-bold text-slate-900 mb-3\",\"children\":\"üéØ Ready to Build Your Own?\"}],[\"$\",\"p\",null,{\"className\":\"text-slate-700 mb-3\",\"children\":\"You've now examined three different MCP tools that query Databricks:\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-2 text-slate-700\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"code\",null,{\"className\":\"bg-green-100 px-1 py-0.5 rounded text-sm\",\"children\":\"list_clusters\"}],\" - Query compute resources\"]}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"code\",null,{\"className\":\"bg-green-100 px-1 py-0.5 rounded text-sm\",\"children\":\"list_warehouses\"}],\" - Query SQL endpoints\"]}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"code\",null,{\"className\":\"bg-green-100 px-1 py-0.5 rounded text-sm\",\"children\":\"execute_dbsql\"}],\" - Run SQL queries\"]}]]}],[\"$\",\"p\",null,{\"className\":\"text-slate-700 mt-3\",\"children\":\"In the next step, you'll build your own tool from scratch using the same pattern!\"}]]}]\n"])</script><script>self.__next_f.push([1,"2d:[\"$\",\"strong\",null,{\"children\":\"default\"}]\n2e:[\"$\",\"div\",null,{\"className\":\"ml-8\",\"children\":\"‚îú‚îÄ‚îÄ üìä products (100 rows)\"}]\n2f:[\"$\",\"div\",null,{\"className\":\"ml-8\",\"children\":\"‚îú‚îÄ‚îÄ üìä customers (500 rows)\"}]\n30:[\"$\",\"div\",null,{\"className\":\"ml-8\",\"children\":\"‚îî‚îÄ‚îÄ üìä sales (1000 rows)\"}]\n31:[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-600 mt-3\",\"children\":\"The tool you're building will let AI assistants discover this structure!\"}]\n32:[\"$\",\"h3\",null,{\"className\":\"text-xl font-bold text-slate-900 mt-8\",\"children\":\"Step 1: Add the list_schemas Tool\"}]\n33:[\"$\",\"p\",null,{\"className\":\"text-slate-700 mb-4\",\"children\":[\"Open \",[\"$\",\"code\",null,{\"className\":\"bg-orange-200 px-1.5 py-0.5 rounded font-mono\",\"children\":\"src/custom_server/app.py\"}],\" and \",[\"$\",\"strong\",null,{\"children\":\"add this new tool\"}],\" after the existing tools (after \",[\"$\",\"code\",null,{\"className\":\"bg-orange-100 px-1 py-0.5 rounded text-sm\",\"children\":\"execute_dbsql\"}],\", around line 177):\"]}]\n4d:T45e,"])</script><script>self.__next_f.push([1,"@mcp.tool()\ndef list_schemas(catalog_name: str) -\u003e dict:\n    \"\"\"List all schemas in a Unity Catalog catalog.\n    \n    Args:\n        catalog_name: Name of the catalog to list schemas from\n    \n    Returns:\n        Dictionary with schema information including name, catalog, owner, and comment\n    \n    Example:\n        list_schemas(\"mcp_workshop_john_doe\") -\u003e Shows all schemas in your workshop catalog\n    \"\"\"\n    try:\n        w = get_workspace_client()\n        schemas = []\n        \n        for schema in w.schemas.list(catalog_name=catalog_name):\n            schemas.append({\n                'name': schema.name,\n                'full_name': schema.full_name,\n                'catalog': schema.catalog_name,\n                'owner': schema.owner,\n                'comment': schema.comment or 'No description'\n            })\n        \n        return {\n            'success': True,\n            'schemas': schemas,\n            'count': len(schemas),\n            'message': f'Found {len(schemas)} schema(s) in catalog {catalog_name}'\n        }\n    except Exception as e:\n        return {'success': False, 'error': str(e)}"])</script><script>self.__next_f.push([1,"34:[\"$\",\"$L18\",null,{\"language\":\"python\",\"title\":\"src/custom_server/app.py - ADD this tool yourself!\",\"code\":\"$4d\"}]\n"])</script><script>self.__next_f.push([1,"35:[\"$\",\"div\",null,{\"className\":\"bg-yellow-50 rounded-xl p-6 border-2 border-yellow-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-bold text-slate-900 mb-3\",\"children\":\"üìö Understanding the Schema API\"}],[\"$\",\"div\",null,{\"className\":\"space-y-3 text-sm text-slate-700\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"font-bold\",\"children\":\"w.schemas.list(catalog_name)\"}],[\"$\",\"p\",null,{\"children\":\"Iterates through all schemas in the catalog. The SDK automatically handles pagination and permissions!\"}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"font-bold\",\"children\":\"schema.full_name\"}],[\"$\",\"p\",null,{\"children\":[\"Returns the complete path like \",[\"$\",\"code\",null,{\"className\":\"bg-yellow-100 px-1 py-0.5 rounded text-xs\",\"children\":\"mcp_workshop_john_doe.default\"}]]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"font-bold\",\"children\":\"Automatic permission filtering\"}],[\"$\",\"p\",null,{\"children\":[\"Users only see schemas they have the \",[\"$\",\"code\",null,{\"className\":\"bg-yellow-100 px-1 py-0.5 rounded text-xs\",\"children\":\"USE_SCHEMA\"}],\" privilege on. Security is built-in!\"]}]]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"36:[\"$\",\"h3\",null,{\"className\":\"text-xl font-bold text-slate-900 mt-8\",\"children\":\"Step 2: Test Locally with MCP Inspector\"}]\n37:[\"$\",\"p\",null,{\"className\":\"text-slate-700 mb-4\",\"children\":\"Now test your new tool locally using the MCP Inspector to connect to your server:\"}]\n38:[\"$\",\"$L18\",null,{\"language\":\"bash\",\"title\":\"Terminal - Start your MCP server\",\"code\":\"# Get your workshop catalog name from the setup\\ncd custom-mcp-template\\nsource ../.env.local\\necho \\\"Your workshop catalog: $WORKSHOP_CATALOG\\\"\\n\\n# Make sure the server is running\\nuv run uvicorn custom_server.app:app --reload --host 0.0.0.0 --port 8000\"}]\n39:[\"$\",\"$L18\",null,{\"language\":\"bash\",\"title\":\"Terminal - Launch MCP Inspector (in a new terminal)\",\"code\":\"npx @modelcontextprotocol/inspector http://localhost:8000/mcp\"}]\n"])</script><script>self.__next_f.push([1,"3a:[\"$\",\"div\",null,{\"className\":\"my-6 rounded-xl border-2 border-teal/30 bg-teal/5 p-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-start gap-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex h-8 w-8 items-center justify-center rounded-lg text-lg flex-shrink-0 bg-teal/10 text-teal\",\"children\":\"‚ÑπÔ∏è\"}],[\"$\",\"div\",null,{\"className\":\"flex-1 min-w-0\",\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-bold mb-3 text-lg text-teal\",\"children\":\"Configure the Inspector\"}],[\"$\",\"div\",null,{\"className\":\"leading-relaxed text-dark-navy\",\"children\":[[\"$\",\"p\",null,{\"className\":\"mb-3\",\"children\":\"Once the MCP Inspector opens in your browser:\"}],[\"$\",\"ol\",null,{\"className\":\"list-decimal list-inside space-y-2 text-sm\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"Make sure \",[\"$\",\"strong\",null,{\"children\":\"Transport Type\"}],\" is set to \",[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-1.5 py-0.5 rounded text-xs\",\"children\":\"StreamableHTTP\"}]]}],[\"$\",\"li\",null,{\"children\":[\"Verify the \",[\"$\",\"strong\",null,{\"children\":\"URL\"}],\" is \",[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-1.5 py-0.5 rounded text-xs\",\"children\":\"http://localhost:8000/mcp\"}]]}],[\"$\",\"li\",null,{\"children\":[\"Click \",[\"$\",\"strong\",null,{\"children\":\"Connect\"}]]}],[\"$\",\"li\",null,{\"children\":[\"Once connected, you'll see all available tools including \",[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-1.5 py-0.5 rounded text-xs\",\"children\":\"list_schemas\"}]]}],[\"$\",\"li\",null,{\"children\":[\"Click on \",[\"$\",\"strong\",null,{\"children\":\"list_schemas\"}],\" and test it with your catalog name (e.g., \",[\"$\",\"code\",null,{\"className\":\"bg-blue-100 px-1.5 py-0.5 rounded text-xs\",\"children\":\"mcp_workshop_john_doe\"}],\")\"]}]]}]]}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"3b:[\"$\",\"div\",null,{\"className\":\"my-6 rounded-xl border-2 border-green/30 bg-green/5 p-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-start gap-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex h-8 w-8 items-center justify-center rounded-lg text-lg flex-shrink-0 bg-green/10 text-green\",\"children\":\"‚úÖ\"}],[\"$\",\"div\",null,{\"className\":\"flex-1 min-w-0\",\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-bold mb-3 text-lg text-green\",\"children\":\"Expected Result\"}],[\"$\",\"div\",null,{\"className\":\"leading-relaxed text-dark-navy\",\"children\":[[\"$\",\"p\",null,{\"className\":\"mb-2\",\"children\":\"After calling the tool, you should see output like this in the Inspector:\"}],[\"$\",\"$L18\",null,{\"language\":\"json\",\"code\":\"{\\n  \\\"success\\\": true,\\n  \\\"schemas\\\": [\\n    {\\n      \\\"name\\\": \\\"default\\\",\\n      \\\"full_name\\\": \\\"mcp_workshop_john_doe.default\\\",\\n      \\\"catalog\\\": \\\"mcp_workshop_john_doe\\\",\\n      \\\"owner\\\": \\\"your_email@example.com\\\",\\n      \\\"comment\\\": \\\"Default schema for workshop tables and functions\\\"\\n    }\\n  ],\\n  \\\"count\\\": 1,\\n  \\\"message\\\": \\\"Found 1 schema(s) in catalog mcp_workshop_john_doe\\\"\\n}\"}],[\"$\",\"p\",null,{\"className\":\"text-sm mt-3\",\"children\":[\"This confirms your workshop catalog is set up correctly with the \",[\"$\",\"strong\",null,{\"children\":\"default\"}],\" schema containing your sample data!\"]}]]}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"3c:[\"$\",\"div\",null,{\"className\":\"bg-green-50 rounded-xl p-6 border-2 border-green-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-bold text-slate-900 mb-3\",\"children\":\"üí° Why This Tool Matters\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-2 text-slate-700\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"strong\",null,{\"children\":\"Data Discovery:\"}],\" AI assistants can explore available schemas before querying\"]}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"strong\",null,{\"children\":\"Governance:\"}],\" Respects Unity Catalog permissions automatically\"]}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"strong\",null,{\"children\":\"Context Building:\"}],\" Combined with \",[\"$\",\"code\",null,{\"className\":\"bg-green-100 px-1 py-0.5 rounded text-xs\",\"children\":\"execute_dbsql\"}],\", AI can fully understand your data landscape\"]}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ \",[\"$\",\"strong\",null,{\"children\":\"Workshop Connection:\"}],\" This directly queries the resources created during setup!\"]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"3d:[\"$\",\"div\",null,{\"className\":\"bg-slate-50 rounded-lg p-4 border border-slate-200 mt-6\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-700\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"üìñ Learn More:\"}],\" The Databricks SDK provides similar APIs for \",[\"$\",\"code\",null,{\"className\":\"bg-slate-100 px-1 py-0.5 rounded text-xs\",\"children\":\"w.tables\"}],\",\",[\"$\",\"code\",null,{\"className\":\"bg-slate-100 px-1 py-0.5 rounded text-xs ml-1\",\"children\":\"w.catalogs\"}],\", and more. Check the\",[\"$\",\"a\",null,{\"href\":\"https://docs.databricks.com/en/dev-tools/sdk-python.html\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"text-blue-600 hover:underline ml-1\",\"children\":\"Databricks SDK documentation\"}],\" to explore!\"]}]}]\n"])</script><script>self.__next_f.push([1,"3e:[\"$\",\"div\",null,{\"className\":\"bg-yellow-50 rounded-xl p-6 border-2 border-yellow-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-bold text-slate-900 mb-3\",\"children\":\"üìã What's Happening?\"}],[\"$\",\"ol\",null,{\"className\":\"space-y-2 text-sm text-slate-700 ml-4\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"1. \",[\"$\",\"code\",null,{\"className\":\"bg-yellow-100 px-1 py-0.5 rounded text-xs\",\"children\":\"uv build --wheel\"}],\" packages your enhanced MCP server with the new tool\"]}],[\"$\",\"li\",null,{\"children\":\"2. Your prefix is cleaned (underscores ‚Üí dashes) to meet Databricks Apps naming requirements\"}],[\"$\",\"li\",null,{\"children\":\"3. The bundle deploys to Databricks with your unique app name\"}],[\"$\",\"li\",null,{\"children\":[\"4. \",[\"$\",\"code\",null,{\"className\":\"bg-yellow-100 px-1 py-0.5 rounded text-xs\",\"children\":\"databricks bundle run\"}],\" starts the app and deploys the code\"]}],[\"$\",\"li\",null,{\"children\":\"5. Your enhanced MCP server is now live and accessible!\"}]]}]]}]\n"])</script><script>self.__next_f.push([1,"3f:[\"$\",\"div\",null,{\"className\":\"bg-green-50 rounded-xl p-6 border-2 border-green-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-bold text-slate-900 mb-3\",\"children\":\"‚úÖ Deployment Success\"}],[\"$\",\"p\",null,{\"className\":\"text-slate-700 mb-3\",\"children\":\"When deployment completes, you'll see:\"}],[\"$\",\"$L18\",null,{\"language\":\"text\",\"code\":\"‚úÖ App started successfully!\\n\\nüìã App Details:\\n  Name: mcp-custom-server-your-prefix\\n  URL: https://mcp-custom-server-your-prefix-xxxxx.aws.databricksapps.com/mcp/\\n\\nüîó MCP Connection URL (use this in AI assistants):\\n  https://mcp-custom-server-your-prefix-xxxxx.aws.databricksapps.com/mcp/\\n\\nüìã Next steps:\\n  1. Check app status: ./app_status.sh\\n  2. View logs in Databricks workspace: Apps ‚Üí mcp-custom-server-your-prefix ‚Üí Logs\\n  3. Connect your AI assistant using the MCP URL above\"}],[\"$\",\"div\",null,{\"className\":\"bg-green-100 rounded-lg p-3 mt-3\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-700\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"üíæ Save this URL!\"}],\" You'll need it in the next section to connect your AI assistant and test your \",[\"$\",\"code\",null,{\"className\":\"bg-green-200 px-1 py-0.5 rounded text-xs\",\"children\":\"list_schemas\"}],\" tool.\"]}]}]]}]\n"])</script><script>self.__next_f.push([1,"40:[\"$\",\"div\",null,{\"className\":\"bg-red-50 rounded-xl p-6 border-2 border-red-200\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-bold text-slate-900 mb-3\",\"children\":\"‚ö†Ô∏è Troubleshooting\"}],[\"$\",\"div\",null,{\"className\":\"space-y-3 text-sm text-slate-700\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"font-bold\",\"children\":\"Error: \\\"auth type 'profile' not found\\\"\"}],[\"$\",\"p\",null,{\"className\":\"text-xs mt-1\",\"children\":[\"Solution: Use \",[\"$\",\"code\",null,{\"className\":\"bg-red-100 px-1 py-0.5 rounded text-xs\",\"children\":\"./deploy.sh\"}],\" or manually \",[\"$\",\"code\",null,{\"className\":\"bg-red-100 px-1 py-0.5 rounded text-xs\",\"children\":\"unset DATABRICKS_AUTH_TYPE\"}],\" before deploying\"]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"font-bold\",\"children\":\"Error: \\\"App name must contain only lowercase letters, numbers, and dashes\\\"\"}],[\"$\",\"p\",null,{\"className\":\"text-xs mt-1\",\"children\":[\"Solution: The deploy script handles this automatically. If deploying manually, use \",[\"$\",\"code\",null,{\"className\":\"bg-red-100 px-1 py-0.5 rounded text-xs\",\"children\":\"tr '_' '-'\"}]]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"p\",null,{\"className\":\"font-bold\",\"children\":\"Error: \\\"App does not exist or is deleted\\\"\"}],[\"$\",\"p\",null,{\"className\":\"text-xs mt-1\",\"children\":[\"Solution: Clear stale state with \",[\"$\",\"code\",null,{\"className\":\"bg-red-100 px-1 py-0.5 rounded text-xs\",\"children\":\"rm -rf .databricks\"}],\" then redeploy\"]}]]}]]}],[\"$\",\"p\",null,{\"className\":\"text-xs text-slate-600 mt-3\",\"children\":[\"üí° See \",[\"$\",\"code\",null,{\"className\":\"bg-red-100 px-1 py-0.5 rounded text-xs\",\"children\":\"README.md\"}],\" in the custom-mcp-template folder for detailed troubleshooting.\"]}]]}]\n"])</script><script>self.__next_f.push([1,"41:[\"$\",\"div\",null,{\"className\":\"bg-blue-50 rounded-lg p-4 border border-blue-200\",\"children\":[\"$\",\"p\",null,{\"className\":\"text-sm text-slate-700\",\"children\":[[\"$\",\"strong\",null,{\"children\":\"‚è±Ô∏è Deployment time:\"}],\" First deployment takes 2-3 minutes. Updates are faster (~30 seconds) since only changed files are uploaded.\"]}]}]\n"])</script><script>self.__next_f.push([1,"42:[\"$\",\"div\",null,{\"className\":\"my-6 rounded-xl border-2 border-green/30 bg-green/5 p-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-start gap-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex h-8 w-8 items-center justify-center rounded-lg text-lg flex-shrink-0 bg-green/10 text-green\",\"children\":\"‚úÖ\"}],[\"$\",\"div\",null,{\"className\":\"flex-1 min-w-0\",\"children\":[[\"$\",\"h4\",null,{\"className\":\"font-bold mb-3 text-lg text-green\",\"children\":\"üéâ Your Enhanced MCP Server is Live!\"}],[\"$\",\"div\",null,{\"className\":\"leading-relaxed text-dark-navy\",\"children\":[[\"$\",\"p\",null,{\"className\":\"mb-2\",\"children\":\"Your MCP server now includes:\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1 ml-4 text-sm\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ ‚úÖ The \",[\"$\",\"code\",null,{\"className\":\"bg-emerald-100 px-1 py-0.5 rounded text-xs\",\"children\":\"list_schemas\"}],\" tool you built\"]}],[\"$\",\"li\",null,{\"children\":[\"‚Ä¢ ‚úÖ All existing tools: \",[\"$\",\"code\",null,{\"className\":\"bg-emerald-100 px-1 py-0.5 rounded text-xs\",\"children\":\"list_clusters\"}],\", \",[\"$\",\"code\",null,{\"className\":\"bg-emerald-100 px-1 py-0.5 rounded text-xs\",\"children\":\"list_warehouses\"}],\", \",[\"$\",\"code\",null,{\"className\":\"bg-emerald-100 px-1 py-0.5 rounded text-xs\",\"children\":\"execute_dbsql\"}]]}],[\"$\",\"li\",null,{\"children\":\"‚Ä¢ ‚úÖ Running 24/7 on Databricks with automatic authentication\"}],[\"$\",\"li\",null,{\"children\":\"‚Ä¢ ‚úÖ Ready to connect to AI assistants and explore your Unity Catalog!\"}]]}]]}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"48:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n44:null\n"])</script><script>self.__next_f.push([1,"4e:I[622,[],\"IconMark\"]\n46:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Databricks MCP Workshop\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"A comprehensive workshop to learn about Databricks Model Context Protocol\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"$L4e\",\"3\",{}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"4b:\"$46:metadata\"\n"])</script></body></html>